<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Use Cases and Requirements for Decentralized Identifiers</title>
    <script
     src="https://www.w3.org/Tools/respec/respec-w3c"
     class="remove"></script>
    <script class='remove' src="https://w3c.github.io/did-use-cases/common.js">
    </script>
    <script class="remove">
      var respecConfig = {
        // specification status (e.g., WD, LCWD, NOTE, etc.). If in doubt use ED.
        specStatus: "ED",

        // the specification's short name, as in http://www.w3.org/TR/short-name/
        shortName: "did-use-cases",

        // subtitle
        //subtitle: "Draft  11 February 2019",

        // if you wish the publication date to be other than today, set this
        // publishDate:  "2019-11-21",

        // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
        // and its maturity status
        // previousPublishDate:  "1977-03-15",
        // previousMaturity:  "WD",

        // extend the bibliography entries
        localBiblio: didwg.localBiblio,

        github: {"repoURL": "https://github.com/w3c/did-use-cases", "branch": "master"},
        includePermalinks: false,

        // if there a publicly available Editor's Draft, this is the link
        edDraftURI: "https://w3c.github.io/did-use-cases/",

        // if this is a LCWD, uncomment and set the end of its review period
        // lcEnd: "2009-08-05",

        editors: [{
          name: "Joe Andrieu",
          company: "Invited Expert",
          url: "http://legreq.com",
          w3cid: 97261
        },
      	{
          name: "Phil Archer",
          url: "https://philarcher.org/",
          companyURL: "https://www.gs1.org",
          company: "GS1",
          w3cid: 101627
        }],
	authors: [{
		name: "Kim Hamilton-Duffy",
		url: "https://www.okimsrazor.com/",
		w3cid: 99918
	},
		  {name: "Ryan Grant", w3cid: 101398},
		  {name: "Adrian Gropper", w3cid: 91611}],
        wgPublicList: "public-did-wg",
	group: "did",
        maxTocLevel: 4,
        inlineCSS: true,
	noRecTrack: true,

        localBiblio: {
      	  "DID-RESOLUTION" : {
    		  title : "Decentralized Identifier Resolution (DID Resolution)",
      		href : "https://w3c-ccg.github.io/did-resolution/",
          authors: ["Markus Sabadello", "Dmitri Zagidulin"],
          status: "W3C Community Group Report"
       	  },
          "DID-Auth" : {
          title: "Introduction to DID Auth",
          href: "https://github.com/WebOfTrustInfo/rwot6-santabarbara/blob/master/final-documents/did-auth.md",
          authors: ["Markus Sabadello", "Kyle Den Hartog", "Christian Lundkvist", "Cedric Franz", "Alberto Elias", "Andrew Hughes", "John Jordan", "Dmitri Zagidulin"]
          },
	  "QR" : {
          title: "Information technology — Automatic identification and data capture techniques — QR Code bar code symbology specification",
          href: "https://www.iso.org/standard/62021.html",
          authors: ["ISO/IEC JTC 1/SC 31 Automatic identification and data capture techniques"],
	  status: "ISO/IEC standard",
	  date: "February 2015"
          }

        }
      };
    </script>
    <style>
      table.feature_grid { border: 1px solid; width: 1000px; }
      table.feature_grid td { border: 1px solid; text-align: center; }
      table.feature_grid th { border: 1px solid; }
      table.feature_grid th[scope=row] { text-align: left; }
      dl.feature_definitions dt { font-weight: 400; }

      .highlight {background-color:yellow}

      .focalContributor, .shortUcContributor {font-size:small; font-style:italic}
      .shortUcContributor {text-align:right}

      p.reqList span.reqListbefore {font-weight:bold}

      table {
        border-collapse: collapse;
        margin-bottom: 1em;
        overflow: scroll;
      }
      table tr th, table tr td {
        border: thin solid black;
        min-width: 1.5em;
      }

      .noBorder {
        border:none;
      }

      .multiColHeader, .onlyX {
        text-align: center;
      }

      .noBold {
        font-weight: normal;
      }

    </style>
  </head>
  <body>
    <section id="abstract">
      <p>This document sets out use cases and requirements for a new type of identifier that has 4 essential characteristics:</p>
      <ol>
        <li><strong>decentralized</strong>: there should be no central issuing
        agency;</li>
        <li><strong>persistent</strong>: the identifier should be inherently
        persistent, not requiring the continued operation of an underling organization;</li>
        <li><strong>cryptographically verifiable</strong>: it should be possible
        to prove control of the identifier cryptographically;</li>
        <li><strong>resolvable</strong>: it should be possible to discover
        metadata about the identifier.</li>
    </ol>
    <p>Although existing identifiers may display some of these characteristics, none currently displays all four.</p>
    </section>
    <section id="sotd"></section>
    <section id="intro">
      <h2>Introduction</h2>
      <p>The need for globally unique identifier schemes has been addressed many
      times. Globally unique ID schemes typically rely on a central authority
      controlling a 'root' space that is then delegated to local organizations
      who in turn delegate to further organizations who eventually add the final
      string to complete the identifier. Even if we restrict ourselves to online
      identifiers, there are many examples of this.</p><ul>
  <li>IANA controls the root namespace of the Internet's Domain Name System;
      registrars operate the top level domains and then license specific domain
      names to their clients, and it's these clients who create the actual
      identifiers for online resources (URLs). The example below shows who
      controls what in a typical URL.

<pre class="example">

                IANA
                 ↓
https://example.com/page.html
           ↑           ↑
        Registrar   Licensee
</pre></li>
  <li><abbr title="Digital Object Identifier">DOI</abbr>s have the form
    <code>10.{registrant}/{suffix}</code> where 'registrant' is defined by the
    DOI organization and the suffix by the registrant.</li>
  <li>Global Trade Item Numbers (GTINs) seen on many of the world's barcodes
      are managed in a similar way, as are Legal Entity Identifiers,
      <abbr title="International Standard Book Number">ISBN</abbr>s and more.</li>
  </ul>
  <p>In all these cases, ultimately, there is a central authority on which the
   identifier system depends. Those central authorities go to significant
    efforts to make their identifiers persistent and resolvable, however,
    should they cease to exist, the long term integrity of the identifier
    is at least questionable to a greater or lesser extent. For as long as
    those organizations exist (and they are generally well established with no
    immediate threat to their survival), the way to assess whether a particular
    identifier is in some way 'valid' is to query the issuing authority.</p>
  <p>These factors point to a need in some circumstances for a globally unique
    identifier that is 'self sovereign', that is, one that does not depend on
    any issuing authority. Universally unique identifiers (<a>UUID</a>s) [[RFC4122]]
    fulfill this role, however, there is no way to <em>prove</em> control of
    a <abbr title="Universally unique identifier">UUID</abbr>.</p>
  <p>This document sets out use cases and requirements for a new kind of
    identifier that meets all these basic requirements:</p>
      <ol>
        <li><strong>decentralized</strong>: there should be no central issuing
        agency;</li>
        <li><strong>persistent</strong>: the identifier should be inherently
        persistent, not requiring the continued operation of an underling organization;</li>
        <li><strong>cryptographically verifiable</strong>: it should be possible
        to prove control of the identifier cryptographically;</li>
        <li><strong>resolvable</strong>: it should be possible to discover
        metadata about the identifier.</li>
    </ol>
	    <p>Further desired features and their benefits are <a href="#featureBenefitGrid">provided in a later section</a>.</p>
  <section id="existingWork">
    <h3>Existing Work</h3>
    <p>The use cases and requirements set out below have not been created <i>a
        priori</i>. Substantial work has been done within W3C and elsewhere
        leading, in particular, to <a href="https://www.w3.org/2019/08/did-20190828/">Decentralized
        Identifiers (DIDs) Data Model and Syntaxes</a> published as a Community
        Group Report by the <a href="https://www.w3.org/community/credentials/">Credentials
        Community Group</a> in August 2019. That work provides a framework &mdash;
        a set of concepts &mdash; that have proved to be useful when discussing
        <abbr title="Decentralized Identifier">DID</abbr>s and the problems they
        can solve (see below). Those concepts are used within this document to
        set out the detail of the problem that the Decentralized Identifier Working
        Group is <a href="https://www.w3.org/2019/09/did-wg-charter">chartered</a>
        to solve. It is the nature of the standardization process that these
        terms may be modified within the standard itself and therefore, their
        use here should not be seen as authoritative.</p>
      </section>
    <section>
      <h2 id="concepts">Concepts of Decentralized Identity</h2>
	<!-- <p class="issue" data-number="39">Terminology in this opening prose is being discussed, in particular
	the term 'relying party' which has been changed to 'requesting party' in this version of the doc.</p> -->
        <p>A decentralized system will enable several key actions by three
		distinct entities: the Controller, the Requesting Party, and the Subject.</p>
        <p>Controllers create and control <abbr title="Decentralized Identifier">DID</abbr>s,
		while Requesting Parties rely on <abbr title="Decentralized Identifier">DID</abbr>s
          as an identifier for  interactions related to the <a>DID Subject</a>.</p>
        <p>The Subject is the entity referred to by the <abbr title="Decentralized
          Identifier">DID</abbr>, which can be anything: a person,  an organization,
          a device, a location, even a concept. Typically, the Subject is also
          the Controller, but in cases of guardianship, agents (human or software),
          and inanimate Subjects, this is not possible. As such, the Subject has
		no functional  role. When the Subject is, in fact, the <a>DID Controller</a>, we
          consider the action to  be taken by the Controller on their own behalf
          as the Subject. When the Subject  is not the DID Controller, the Controller
          is said to be taking action on behalf of the Subject, such as when an
          employee manages a <abbr title="Decentralized Identifier">DID</abbr>
          on behalf of their employer  or a parent uses a <abbr title="Decentralized
          Identifier">DID</abbr> on behalf of their child.</p>
	    <p>The DID Controller and Requesting Party may be individuals or interactive
          systems, but for simplicity in this document, we refer to both as if
          they were individual  persons performing these actions. </p>
	  <p>Only a <a>DID Controller</a> can perform the actions that control a <abbr
          title="Decentralized Identifier">DID</abbr>, however, anyone can act
	  as a Requesting Party for any <abbr title="Decentralized Identifier">DID</abbr>
          they know, including the DID Controller, should they wish to inspect or
          verify their own <abbr title="Decentralized Identifier">DID</abbr>.</p>
        <p>This use case document defines these actions in terms of the eventual
          systems we anticipate using the resultant specification.</p>

        <p>Perhaps the most salient point about <a>Decentralized Identifiers</a> is
        that there are no "Identity Providers". Instead, this role is subsumed
        in the decentralized systems that Controllers use to manage <abbr
        title="Decentralized Identifier">DID</abbr>s and, in turn, Requesting
		Parties use to apply <abbr title="Decentralized Identifier">DID</abbr>s.
        These  decentralized systems, which we refer to as <abbr
        title="Decentralized Identifier">DID</abbr> registries, are designed to
        operate independently from any particular service provider and hence,
        free from  any given platform authority. It is anticipated that <abbr
        title="Decentralized Identifier">DID</abbr>s will be registered using
        distributed ledger technology (<a>DLT</a>).

        <p>In practice, the definition and operation of all current decentralized
        systems retain some elements of centralized control. Depending on the
        criteria one uses to evaluate such systems &mdash; from who controls
        the most widely used code base to who controls  the specification &mdash;
        where a system resides on the spectrum of centralized and decentralized
        varies. However, the design of any decentralized identity system is
        separate from the  academic debate about how decentralized it may be
        in practice.</p>
        <p>The use cases presented below make use of a number of high level
        concepts as follows.</p>

<div class="note" title="Shared terminology">
  <p>This section uses a snapshot of the terminology 
	  section of the DID Core specification, as published in the 
	  <a href="https://www.w3.org/TR/2020/WD-did-core-20201108/#terminology">8 November 
	2020 Working Draft</a>. Any subsequent change to that terminology section is not reflected 
	  here. In the case of discrepancy, the terms provided in DID Core document are authoritative.</p></div>
	    
<dl class="termlist">

  <dt><dfn id="dfn-authenticate">authenticate</dfn></dt>
  <dd>
Authentication is a process (typically some type of protocol) by which an
entity can prove it has a specific attribute or controls a specific secret
using one or more <a>verification methods</a>. With <a>DIDs</a>, a common
example would be proving control of the private key associated with a public
key published in a <a>DID document</a>.
  </dd>
<!--  <dt><dfn data-lt="blockchains|blockchain technology|blockchain" id="dfn-blockchains">blockchain</dfn></dt>
  <dd>
A specific type of <a>distributed ledger technology</a> (DLT) in which ledger
entries are stored in blocks of transactions that are grouped together and
hashed into a cryptographic chain. Because this type of <a>DLT</a> was
introduced by <a href="https://en.wikipedia.org/wiki/Bitcoin">Bitcoin</a>, the
term <em>blockchain</em> is sometimes used to refer specifically to the Bitcoin
ledger.
  </dd> -->

<!--  <dt><dfn id="dfn-binding">binding</dfn></dt>
  <dd>
A concrete mechanism used by a caller to invoke a <a>DID resolver</a> or a
<a>DID URL dereferencer</a>. This could be a local command line tool, a
software library, or a network call such as an HTTPS request.
  </dd> -->

  <dt><dfn data-lt="decentralized identifiers|DID|DIDs|decentralized identifier" data-plurals="dids|did" id="dfn-decentralized-identifiers">decentralized identifier</dfn> (DID)</dt>

  <dd>
A globally unique persistent identifier that does not require a centralized
registration authority because it is generated and/or registered cryptographically.
The generic format of a DID is defined in the
DID Core specification [[DID-CORE]].
A specific <a>DID scheme</a> is defined in a <a>DID method</a> specification.
Many—but not all—DID methods make use of <a>distributed ledger technology</a>
(DLT) or some other form of decentralized network.
  </dd>

  <!-- <dt><dfn id="dfn-decentralized-identity-management">decentralized identity management</dfn></dt>

  <dd>
<a href="https://en.wikipedia.org/wiki/Identity_management">identity
management</a> that is based on the use of <a>decentralized identifiers</a>.
Decentralized identity management extends authority for identifier generation,
registration, and assignment beyond traditional roots of trust such as
<a href="https://en.wikipedia.org/wiki/X.500">X.500 directory services</a>,
the <a href="https://en.wikipedia.org/wiki/Domain_Name_System">Domain Name System</a>,
and most national ID systems.
  </dd> -->

 <!-- <dt><dfn id="dfn-decentralized-public-key-infrastructure">decentralized public key infrastructure</dfn> (DPKI)</dt>

  <dd>
<a href="https://en.wikipedia.org/wiki/Public_key_infrastructure">Public key
infrastructure</a> that does not rely on traditional
<a href="https://en.wikipedia.org/wiki/Certificate_authority">certificate
authorities</a> because it uses <a>decentralized identifiers</a> and
<a>DID documents</a> to discover and verify <a>public key descriptions</a>.
  </dd> -->

  <dt><dfn data-lt="did controllers|did controller(s)|DID controller" id="dfn-did-controllers">DID controller</dfn></dt>

  <dd>
An entity that has the capability to make changes to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-25">DID document</a>.
A <a>DID</a> may have more than one DID controller. The <a>DID controller(s)</a>
can be denoted by the optional <code>controller</code> property at the top level of the <a>DID
document</a>. Note that one <a>DID controller</a> may be the <a>DID subject</a>.
  </dd>

  <dt><dfn id="dfn-did-delegate">DID delegate</dfn></dt>

  <dd>
An entity to whom a <a>DID controller</a> has granted permission to use
a <a>verification method</a> associated with a <a>DID</a> via a <a>DID document</a>.
For example, a parent who controls a child's <a>DID document</a> might permit
the child to use their personal device in order to <a>authenticate</a>. In
this case, the child is the <a>DID delegate</a>. The child's personal device
would contain the private cryptographic material enabling the child to
<a>authenticate</a> using the DID. However the child may not be permitted to
add other personal devices without the parent's permission.
  </dd>

  <dt><dfn data-lt="DID documents|DID document" data-plurals="did documents" id="dfn-did-documents">DID document</dfn></dt>

  <dd>
A set of data describing the <a>DID subject</a>, including mechanisms, such as
public keys and pseudonymous biometrics, that the <a>DID subject</a> or a
<a>DID delegate</a> can use to <a>authenticate</a> itself and prove its
association with the <a>DID</a>. A DID document may also contain other
<a href="https://en.wikipedia.org/wiki/Attribute_(computing)">attributes</a> or
<a href="https://en.wikipedia.org/wiki/Claims-based_identity">claims</a>
describing the <a>DID subject</a>. A DID document may have one or more different
<a>representations</a> as defined in the W3C DID Specification Registries [[DID-SPEC-REGISTRIES]].
  </dd>

  <dt><dfn data-lt="DID fragments|DID fragment" data-plurals="did fragments" id="dfn-did-fragments">DID fragment</dfn></dt>

  <dd>
The portion of a <a>DID URL</a> that follows the first hash sign character
(<code>#</code>). DID fragment syntax is identical to URI fragment syntax.
  </dd>

  <dt><dfn data-lt="DID methods|DID method" data-plurals="did methods" id="dfn-did-methods">DID method</dfn></dt>

  <dd>
A definition of how a specific <a>DID scheme</a> must be implemented to work
with a specific <a>verifiable data registry</a>. A DID method is defined by a
DID method specification, which must specify the precise operations by which
<a>DIDs</a> are created, resolved and deactivated and <a>DID documents</a> are
written and updated.
  </dd>

  <dt><dfn data-lt="DID paths|DID path" data-plurals="did paths" id="dfn-did-paths">DID path</dfn></dt>

  <dd>
The portion of a <a>DID URL</a> that begins with and includes the first forward
slash (<code>/</code>) character and ends with either a question mark (<code>?</code>)
character or a fragment hash sign (<code>#</code>) character (or the end of the
DID URL). DID path syntax is identical to URI path syntax.
  </dd>

  <dt><dfn data-lt="DID queries|DID query" data-plurals="did queries" id="dfn-did-queries">DID query</dfn></dt>

  <dd>
The portion of a <a>DID URL</a> that follows and includes the first question
mark character (<code>?</code>). DID query syntax is identical to URI query
syntax.
  </dd>

  <dt><dfn id="dfn-did-resolution">DID resolution</dfn></dt>

  <dd>
The function that takes as its input a <a>DID</a> and a set of input
metadata and returns a <a>DID document</a> in a conforming <a>representation</a>
plus additional metadata. This function relies on the "Read" operation of the
applicable <a>DID method</a>.
  </dd>

  <!--<dt><dfn data-lt="DID resolvers|DID resolver" data-plurals="did resolvers" id="dfn-did-resolvers">DID resolver</dfn></dt>

  <dd>
A <a>DID resolver</a> is a software and/or hardware component that performs the
<a>DID resolution</a> function by taking a <a>DID</a> as input and producing a
conforming <a>DID document</a> as output.
  </dd>
-->
  <dt><dfn data-lt="DID schemes|DID scheme" id="dfn-did-schemes">DID scheme</dfn></dt>

  <dd>
The formal syntax of a <a>decentralized identifier</a>. The generic DID scheme
begins with the prefix <code>did:</code> as defined in DID Core specification [[DID-CORE]].
Each <a>DID method</a> specification must define a specific DID
scheme that works with that specific <a>DID method</a>. In a specific DID method
scheme, the DID method name must follow the first colon and terminate with the
second colon, e.g., <code>did:example:</code>
  </dd>

  <dt><dfn data-lt="DID subjects|DID subject" data-plurals="did subjects" id="dfn-did-subjects">DID subject</dfn></dt>

  <dd>
The entity identified by a <a>DID</a> and described by a <a>DID document</a>. A
<a>DID</a> has exactly one DID subject. Anything can be a DID subject: person,
group, organization, physical thing, digital thing, logical thing, etc.
  </dd>

  <dt><dfn data-lt="DID URLs|DID URL" data-plurals="did urls" id="dfn-did-urls">DID URL</dfn></dt>

  <dd>
A <a>DID</a> plus any additional syntactic component that conforms to  the
definition of the DID URL Syntax [[DID-CORE]]. This includes an optional <a>DID
path</a> (with its leading <code>/</code> character), optional <a>DID query</a>
(with its leading <code>?</code> character), and optional <a>DID fragment</a>
(with its leading <code>#</code> character).
  </dd>

  <dt><dfn id="dfn-did-url-dereferencing">DID URL dereferencing</dfn></dt>

  <dd>
The function that takes as its input a <a>DID URL</a>, a <a>DID document</a>,
plus a set of dereferencing options, and returns a <a>resource</a>. This
resource may be a <a>DID document</a> plus additional metadata, or it may be a
secondary resource contained within the <a>DID document</a>, or it may be a
resource entirely external to the <a>DID document</a>. If the function begins
with a <a>DID URL</a>, it uses the <a>DID resolution</a> function to fetch a
<a>DID document</a> indicated by the <a>DID</a> contained within the
<a>DID URL</a>. The dereferencing function then can perform additional
processing on the <a>DID document</a> to return the dereferenced resource
indicated by the <a>DID URL</a>.
  </dd>

  <dt><dfn data-lt="DID URL dereferencers|DID URL dereferencer" id="dfn-did-url-dereferencers">DID URL dereferencer</dfn></dt>

  <dd>
A software and/or hardware system that performs the <a>DID URL dereferencing</a>
function for a given <a>DID URL</a> or <a>DID document</a>.
  </dd>

  <dt><dfn data-lt="distributed ledger technology|DLT|distributed ledger" data-plurals="dlts" id="dfn-distributed-ledger-technology">distributed ledger</dfn> (DLT)</dt>

  <dd>
A <a href="https://en.wikipedia.org/wiki/Distributed_database">distributed database</a>
in which the various nodes use a
<a href="https://en.wikipedia.org/wiki/Consensus_(computer_science)">consensus protocol</a>
to maintain a shared ledger in which each transaction is cryptographically
signed and chained to the previous transaction.
  </dd>

  <dt><dfn data-lt="proofPurpose|proof purpose" id="dfn-proofpurpose">proof purpose</dfn></dt>

  <dd>
A property of a <a>DID document</a> that communicates the purpose for which the
<a>DID controller</a> included a specific type of proof. It acts as a safeguard
to prevent the proof from being misused for a purpose other than the one it was
intended for.
  </dd>

  <!--<dt><dfn data-plurals="public key descriptions" id="dfn-public-key-description">public key description</dfn></dt>

  <dd>
A data object contained inside a <a>DID document</a> that contains all the
metadata necessary to use a public key or verification key.
  </dd> -->

  <dt><dfn data-lt="resources|resource" id="dfn-resources">resource</dfn></dt>

  <dd>
As defined by [[RFC3986]]: "...the term 'resource' is used in a general sense
for whatever might be identified by a URI." Similarly, any resource may serve as
a <a>DID subject</a> identified by a <a>DID</a>.
  </dd>

    <dt><dfn data-lt="representations|representation" id="dfn-representations">representation</dfn></dt>

  <dd>
As defined for HTTP by [[RFC7231]]: "information that is intended to reflect a
past, current, or desired state of a given resource, in a format that can be
readily communicated via the protocol, and that consists of a set of
representation metadata and a potentially unbounded stream of representation
data." A <a>DID document</a> is a representation of information
describing a <a>DID subject</a>.
  </dd>

  <dt><dfn id="dfn-services">services</dfn></dt>
  <dd>
Means of communicating or interacting with the <a>DID subject</a> or
associated entities via one or more <a>service endpoints</a>.
Examples  include discovery services, agent services, social networking
services, file storage services, and verifiable credential repository services.
  </dd>

  <dt><dfn data-lt="service endpoints|service endpoint" id="dfn-service-endpoints">service endpoint</dfn></dt>

  <dd>
A network address (such as an HTTP URL) at which <a>services</a> operate on
behalf of a <a>DID subject</a>.
  </dd>

  <dt><dfn data-lt="URI|URIs|Uniform Resource Identifier" data-plurals="uris" id="dfn-uri">Uniform Resource Identifier</dfn> (URI)</dt>

  <dd>
The standard identifier format for all resources on the World Wide Web as
defined by [[RFC3986]]. A <a>DID</a> is a type of URI scheme.
  </dd>

    <dt><dfn data-lt="verifiable credentials|verifiable credential" id="dfn-verifiable-credentials">verifiable credential</dfn></dt>

  <dd>
A standard data model and representation format for cryptographically-verifiable
digital credentials as defined by[[VC-DATA-MODEL]].
  </dd>

  <dt><dfn data-lt="verifiable data registry|verifiable data registries" id="dfn-verifiable-data-registry">verifiable
  data registry</dfn></dt>

  <dd>
A system that facilitates the creation, verification, updating, and/or
deactivation of <a>decentralized identifiers</a> and <a>DID documents</a>. A
verifiable data registry may also be used for other cryptographically-verifiable
data structures such as <a>verifiable credentials</a>. For more information, see
[[VC-DATA-MODEL]].
  </dd>

  <!--<dt><dfn data-plurals="verifiable timestamps" id="dfn-verifiable-timestamp">verifiable timestamp</dfn></dt>

  <dd>
A verifiable timestamp enables a third-party to verify that a data object
existed at a specific moment in time and that it has not been modified or
corrupted since that moment in time. If the data integrity could reasonably
have modified or corrupted since that moment in time, the timestamp is not
verifiable.
  </dd> -->

  <dt><dfn data-lt="" data-plurals="verification methods" id="dfn-verification-method">verification method</dfn></dt>

  <dd>
    <p>
A set of parameters that can be used together with a process or protocol to
independently verify a proof. For example, a public key can be used as a
verification method with respect to a digital signature; in such usage, it
verifies that the signer possessed the associated private key.
    </p>
    <p>
"Verification" and "proof" in this definition are intended to apply broadly. For
example, a public key might be used during Diffie-Hellman key exchange to
negotiate a shared symmetric key for encryption. This guarantees the integrity
of the key agreement process. It is thus another type of verification method,
even though descriptions of the process might not use the words "verification"
or "proof."
    </p>
  </dd>

  <!--<dt><dfn data-lt="" data-plurals="verification relationships" id="dfn-verification-relationship">verification relationship</dfn></dt>

  <dd>
    <p>
An expression of the relationship between the <a>DID subject</a> and a
<a>verification method</a>.
    </p>
  </dd>-->

  <dt><dfn data-lt="UUID|UUIDs|Universally Unique Identifier" data-plurals="uuid" id="dfn-uuid">Universally Unique Identifier</dfn> (UUID)</dt>

  <dd>
A type of globally unique identifier defined by [[RFC4122]]. UUIDs are similar
to DIDs in that they do not require a centralized registration authority.
UUIDs differ from DIDs in that they are not resolvable or
cryptographically-verifiable.
  </dd>
</dl>
	    
	    
	    
	    

  <!-- <div data-include="https://w3c.github.io/did-core/terms.html"
      data-oninclude="restrictReferences">
  </div>

  <p class="issue" data-number="14">The term DID registry is under discussion within the Working Group.
  A particular point to bear in mind is that not all DID methods require DIDs to be registered to be functional.</p>-->

<p>When we refer to <em>methods</em> and <em>registries</em>, we mean <a><abbr
  title="Decentralized Identifier">DID</abbr> methods</a> and <a>verifiable data registries</a>. 
	A working assumption for the use cases is that all
  <abbr title="Decentralized Identifier">DID</abbr>s resolve to <abbr title="Decentralized
  Identifier">DID</abbr> Documents. <abbr title="Decentralized Identifier">DID</abbr>
  Documents contain the cryptographic material to perform the functions related to
  that particular <abbr title="Decentralized Identifier">DID</abbr>, including
  associated proof methods and any service endpoints, that is, services that can
  make use of the <abbr title="Decentralized Identifier">DID</abbr>.</p>
      </section>
    </section>


      <section id="uc">
        <h2>Use Cases</h2>
	      <p>We present use cases in two formats: short use cases are in this section and extended use cases, 
		      that provide more detail, are presented in <a href="#focalUseCases"></a>. The diagram below provides 
		      a visual guide to the different domains where Decentralized Identity is seen as important to people
and links to the use cases within each domain.</p>

<figure id="domainMapFig">
  <embed src="images/domainMap.svg" alt="The diagram shows six distinct domains: Learners and workers, Law and legal, Corporate, Authentication and authorization, retail and consumer, and Supply chain. The Use Cases in this doc radiate out from those 6 providing a mini-classification." style="width:100%" id="domainMapSVG" />
  <figcaption>Each use case is assigned to one of six broad domains</figcaption>
</figure>
	      
        <section id="onlineShopper">
          <h3>Online shopper</h3>
        <p>Merry has been seeking a special edition, collectible card ever since her best friend, Eli, opined about
		losing the one his Dad had given him as a reward for getting straight "A"s at school. She found it
		on an online marketplace, for sale by DeepVintage in another country, over 2000 miles away. Although the
		marketplace promises refunds, Merry is also worried that Eli's heart would be broken if she accidentally got him a fake.</p>
	<p>Fortunately, DeepVintage makes use of globally-recognized identifiers for everything in its marketplace so that Merry
		can be sure she's searching the right collectible. Furthermore, DeepVintage is
		able to provide identity documentation in the form of signed statements of title transfer from each of the owners,
		all the way back to the original, which includes a statement of authenticity from the original manufacturer. Each of
		the signed statements can be independently verified because they were signed using public DIDs for the buyer and seller.
		The collected signatures comprise a complete chain of custody along with some interesting anecdotes about each sale.
		Merry was able to verify the provenance of the card and delighted Eli with a surprise gift of a perfect replacement for his lost memento.</p>

		<!-- The text to display in the following paragraph is generated based on the data-reqID attributes -->
		<p class="reqList"><span class="reqListbefore">Requirements:</span>

<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="interJ"></span>,
<span data-reqid="noDenial"></span>,
<span data-reqid="noCallHome"></span>,
<span data-reqid="orgMort"></span>,
<span data-reqid="deployEnd"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="humanInterop"></span>

</p>
	<p class="shortUcContributor">Contributed by GS1 and Legendary Requirements</p>
        </section><!-- Online shopper-->

	<section id="vehicleAssemblies"><h3>Vehicle assemblies</h3>
		<p>When Bertha bought her new car, it came with its own DID, not just as an alternative
			<abbr title="Vehicle Identification Number">VIN</abbr>, but with unique DIDs for every replaceable
			component in the vehicle and a secure data storage for keeping track of vehicle use and maintenance.
			Even before she purchased it, she was able to verify that, as advertised, every part in the car is
			100% made with carbon-neutral processes as certified by various independent agencies.</p>
		<p>As the controller of the car's DID, she had automatic control over all of its components' DIDs. During
			maintenance, she would choose mechanics that automatically provided digital records of their work,
			stored at her direction in the car's data store. When a part needed to be replaced, she'd make sure
			the new component's DID is recorded and the old one retired. Similarly, her car automatically tracked
			fuel purchases and saved telemetry reports to storage, where it was kept securely under her control.</p>
		<p>She found an insurance company that was able to automatically offer her a discount after passing a certification
			of good maintenance and good driving. When she later put her car up for sale, she was able to prove her
			track record of maintenance. Upon sale, she transferred control over the car's DID and its secure storage,
			giving the new owner a working, and contiguous record of the vehicle.</p>

	<p class="reqList"><span class="reqListbefore">Requirements:</span>

<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="interJ"></span>,
<span data-reqid="noDenial"></span>,
<span data-reqid="noCallHome"></span>,
<span data-reqid="orgMort"></span>,
<span data-reqid="deployEnd"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="humanInterop"></span>

</p>
	<p class="shortUcContributor">Contributed by Spherity</p>
	</section> <!-- Vehicle assemblies -->

	<section id="edv"><h3>Confidential Customer Engagement</h3>
	<p>Maria runs a small shopping &amp; delivery service for several dozen shoppers. She uses a DID provided by
		each shopper to provide secure access to her records of purchases, which include receipts and product
		names for everything she's ever bought them through her service. As she shops, she scans the products
		as she puts them in her basket, automatically uploading her shopping progress to her secure storage.
		Her customers can follow along, viewing her progress and even communicating securely to answer questions about product options.</p>
	<p>Each customer's data is encrypted just for them, and only accessible using the DID they gave to Maria. Customers
		are able to see the actual products purchased, with ready access to product details like nutrition facts,
		ingredients, and certifications. All of this information is stored in the cloud, yet encrypted at the source
		so that not even the cloud storage provider can see what Maria is buying for her customers and each customer
		only has access to information related to their own shopping list. When she changes cloud providers, Maria
		is able to easily and simply migrate all of the data, encrypted and without exposing any data, while the system
		just continues to work with the new data store.</p>

	<p class="reqList"><span class="reqListbefore">Requirements:</span>
    <span data-reqid="authenticate"></span>,
		<span data-reqid="associatedCrypto"></span>,
		<span data-reqid="keyRotation"></span>,
    <span data-reqid="noVendorLock"></span>,
    <span data-reqid="privacyPreserving"></span>
		<span data-reqid="cryptoAuthComm"></span>,
</p>
	<p class="shortUcContributor">Contributed by Digital Bazaar, Transmute &amp; Legendary Requirements</p>
	</section> <!-- Encrypted Data Vault-->

	<section id="accessingServiceEndpoints"><h3>Accessing Master Data of Entities</h3>
	<p>Decentralized identifiers allow one to discover the location of an authoritative public master data record of an entity.
	This mechanism can be used for organizations as well as things. The authoritative master data record could be retrieved from a
	designated service endpoint listed in the DID document. The record may be self-certifying, i.e. verifiable with a key listed in the
	DID document or third party attested represented as a <a
	href="https://www.w3.org/TR/vc-data-model/#dfn-verifiable-presentations">verifiable presentation</a>.</p>
	<p>The third party attesting master data of an organization might be a chamber of commerce, while the third party attesting
	the master data of a thing might be its manufacturer. The decentralized nature of the identifier is important in particular
	for the device as the DID can act as an entry to that master data even if the manufacturer goes out of business or stops the
	service.</p>
	<p class="reqList"><span class="reqListbefore">Requirements:</span>
    <span data-reqid="decentralized"></span>,
    <span data-reqid="unique"></span>,
    <span data-reqid="authenticate"></span>,
    <span data-reqid="serviceEndpoint"></span>,
		<span data-reqid="associatedCrypto"></span></p>
	<p class="shortUcContributor">Contributed by Robert Bosch GmbH</p>
	</section><!-- service endpoints-->

	<section id="vcEcosystem"><h3>Transferable Skills Credentials</h3>
		<p>Dixon's employer uses DIDs and <abbr title="Verifiable Credentials">VC</abbr>s to track workplace successes and recognition.
			Every employee has a DID registered with the company and accessible via the company registry. When he
			completes a training program &mdash; like CPR or Export Compliance &mdash; or receives an accolade like employee of
			the month, the company mints a new Verifiable Credential. These are not only used by <abbr title="Human resources">HR</abbr>
			in their evaluations for raises and bonuses, they are all made available to Dixon in a form he can use outside
			the firm. He maintains a career portfolio on his own server which he uses to keep track of his career.</p>
		<p>When a devastating Earthquake nearly destroyed half of his small town, Dixon was able to present a selection
			of his workplace credentials to the office of the Incident Commander, establishing his expertise in disaster
			response. He used the proof material associated with the DID to prove that he was the recipient of those
			credentials. He was immediately put to work helping people recover from the disaster.</p>
		<p>Over the years, following corporate policy, he updates his cryptographic material for his workplace DID. After
			these updates, all of the credentials could still be verified as having been issued to Dixon.</p>

	<p class="reqList"><span class="reqListbefore">Requirements:</span>
    <span data-reqid="authenticate"></span>,
    <span data-reqid="unique"></span>,
		<span data-reqid="associatedCrypto"></span>,
		<span data-reqid="keyRotation"></span>,
    <span data-reqid="cryptoFuture"></span></p>
	<p class="shortUcContributor">Contributed by David Chadwick, University of Kent, Legendary Requirements</p>
	</section><!-- VC ecosystem-->

	<section id="crossPlatform">
          <h3>Cross-platform User-driven Sharing</h3>
		<p>Franklyn is frustrated by the seemingly endless surveillance that tracks his activity online. He is a
			single father of two girls whose privacy is absolutely vital to him. He does what he can to minimize
			the ways in which he might accidentally put his kids at risk, avoiding sharing details of his life,
			his shopping, or the inadvertent geo-located digital photo. He has minimized her digital footprint and
			opted out of everything but the most secure and privacy respecting sites.</p>
		<p>However, when he can verify that a website is meeting his own standards for privacy and is willing to accept
			a fiduciary obligation to protect her and her information, he appreciates the personalized services
			that can be created by sharing select nuggets of information while remaining as anonymous as possible.</p>
		<p>For each service, he creates a new unique DID and authorizes the company to use it to track him, as long as they
			have agreed to his specific terms of service, which covers inappropriate use of his data, whether internally
			or in redistributing it to other companies. With this unique identifier, the services are able to build
			up a history of interactions with Franklyn, without recourse to his legal identity, IP address, any
			credit or income data, nothing. Just the DID. By authenticating using the DID the service has an exceptionally
			strong assurance that the current session is Franklyn. Should the store data become compromised in a data breach,
			all the attackers will get is a history of shopping and shopping lists associated with an arbitrary DID
			controlled by an unknown party.</p>
		<p>As he becomes comfortable with a given service, he gradually shares more details, such as his pending shopping requirements.
			This virtual shopping list is broken into categories and different parts are shared with different retailers depending
			on their specialty. The stores are able to notify Franklyn of any special offers, which he is free to ignore or
			take advantage of.</p>
		<p>Thanks to a promotional banner at a particular retailer's website, Franklyn learned he could get an extra discount on
			clothing because he is a military veteran. He gives that retailer a digital credential attesting to his status and
			links it to the DID they already have, securing the military discount for the rest of his relationship with them.</p>
		<p>Both Franklyn and the merchant realize that, over time, the merchant will have an increasingly accurate profile of
		Franklyn's interests and this might prompt him to begin using a new DID, unlinked to the previous one. Recognizing this
			as a negative in some of their customers' opinions, the merchant explicitly offers Franklyn the option of revoking his current DID.
			Doing so would mean that access to, and use of, the information associated with the DID would be restricted to
			legal record-keeping mandates clearly described in the merchant's privacy policy.</p>
			<p>Even without this explicit option, as Franklyn is the controller of the DID, he can cancel access to his data storage or simply
			revoke the DID entirely at any time.</p>

	<p class="reqList"><span class="reqListbefore">Requirements:</span>
    <span data-reqid="decentralized"></span>,
		<span data-reqid="privacyPreserving"></span>,
    <span data-reqid="limitTrack"></span>,
		<span data-reqid="humanInterop"></span>
</p>
	<p class="shortUcContributor">Suggested by Airgrid</p>
	</section><!-- Opted-in information -->

	<section id="ghostWriter"><h3>Pseudonymous Work</h3>
	<p>Before becoming a full time journalist, Sahar worked many odd jobs and uncredited gigs in the publishing and movie
	industries: she was a ghostwriter, a scriptfixer, various kinds of editor, a translator, and more. Some of these gigs
	still pay her residuals years later in the form of tiny micropayments. When these now-classic works are reprinted or
	syndicated, the payments are automatically sent using information associated with Sahar's DID without anyone involved thinking
	much about who exactly the contract
	refers to as “anonymous ghostwriter X” or “translator of appendix C”. Using a DID as her identifier, rather than her name, allows
	Sahar to retain psuedonymity but provide a means for others to pay the right person.</p>
		<p class="reqList"><span class="reqListbefore">Requirements:</span>
    <span data-reqid="privacyPreserving"></span>,
    <span data-reqid="minRent"></span>,
    <span data-reqid="survivesRel"></span>,
    <span data-reqid="humanInterop"></span>
</p>
	<p class="shortUcContributor">Contributed by Juan Caballero</p>
  </section><!-- Ghost Writer-->

  <section id="supplyChain"><h3>Pseudonymity within a supply chain</h3>
	<p>Modern supply chains are highly complex, typically involving multiple companies taking ownership and/or custody of shipments from the point of
	origin through to the final destination, be that a retailer or end consumer. Furthermore, since most mass-produced products are made to stock rather than
	bespoke for a specific customer, the manufacturer typically does not know which final  retailer or retail store will receive each specific product instance;
	the individual path through the supply chain network is not predefined by the manufacturer but instead emerges over time as a set of intermediate distributors
	and wholesalers distribute product in response to orders from their customers. Data concerning that supply chain can be commercially sensitive. For example,
	a transport company may not wish their customer to know that they sub contracted part of the journey to another partner. It can be a security risk too. The
	locations of warehouses and distribution centers where large stocks of particular items are held can be a target for the insertion of counterfeit goods into
	legitimate supplies.</p>
	<p>A downstream party such as a retailer, pharmacy or end consumer may have a legitimate reason or in some cases a legal requirement to know that
	each product is genuine and can be traced back to the genuine manufacturer through an unbroken chain of custody, without any gaps or inconsistencies
	in the traceability data.</p>
	<p>A downstream party may also want to check whether the product ID and serial number were actually issued by the manufacturer. However, the manufacturer may
	not want to provide such information about valid serial numbers to its competitors or counterfeiters, so there may be a need to control access to such services.</p>
	<p>For these reasons and more, identifiers for business partners, locations and transactions often need to be obfuscated, and the data exchanged between
	partners is typically restricted both in terms of its content and in terms of access to it. This is especially true when a manufacturer does not want its
	competitors to know the actual source of the ingredients or components in its products. Different parties will be interested in different things too. For
	example, a retailer may be interested in knowing where a particular shipment is and when it is expected to arrive; a consumer of a food product is more likely
	to be concerned about the original source of the item and the total number of food miles in the product.</p>
	<p>Decentralized Identifiers could be generated by sending and receiving parties at each stage in the chain. This would preserve psuedonymity yet prove control
	of the identified shipment at each stage and, via the DID Document, provide access to data (subject to authorization) pertaining to each transaction without
	enabling correlation across multiple shipments or other sensitive information.</p>
		<p class="reqList"><span class="reqListbefore">Requirements:</span>
      <span data-reqid="authenticate"></span>,
      <span data-reqid="decentralized"></span>,
			<span data-reqid="serviceEndpoint"></span>,
			<span data-reqid="privacyPreserving"></span>
      <span data-reqid="limitTrack"></span>,
      <span data-reqid="survivesRel"></span></p>
	<p class="shortUcContributor">Contributed by GS1</p>
  </section><!-- end supply chain short use case -->
  <section id="digitalPRC">
    <h3>Digital Permanent Resident Card</h3>
    <p>Sam is a long term immigrant to the United States who just received
      notice of Permanent Resident status from the United States Citizenship and
      Immigration Services (USCIS). Along with his notice is directions for
      downloading and using a digital version of his physical card, including
      a one-time activation code. After getting a digital wallet, he visits
      the USCIS website, signs in, and uses his activation code to get a
      digital credential. His wallet provides a DID to the website and
      demonstrates control over the DID to prove to USCIS that the identifier
      is under Sam's control. USCIS issues a newly minted digital credential
      with the subject identifier set to the provided DID.</p>
    <p> Now, Sam can use
      that digital credential anywhere by demonstrating the same proof of
      control to provide a specific level of identity assurance, anchored
      in the cryptography of the proof-of-control ceremony. Verifiers of that
      credential can cryptographically verify both the authenticity and origin
      of the credential itself—it can be proven that it was issued by USCIS
      and unchanged since then&mdash;AND it can verify that the presenter of the
      credential still controls the identifier.</p>
	  <p class="reqList"><span class="reqListbefore">Requirements:</span>
    <span data-reqid="authenticate"></span>,
    <span data-reqid="noCallHome"></span>,
	  <span data-reqid="associatedCrypto"></span>,
    <span data-reqid="minRent"></span>,
    <span data-reqid="legallyEnabled"></span>,
	  <span data-reqid="humanInterop"></span>
</p>
	  <p class="shortUcContributor">Suggested by DHS SVIP</p>
    </section><!-- digital PRC -->

    <section id="retroToys">
      <h3>Importing retro toys</h3>
      <p>Jodie is operations manager at ImportersRUs, a boutique importer
        specializing in small run retro products manufactured in Asia.
        Last year she got her big break when she licensed the right to make "Retro"
        Lima Bean Babies, a huge collector phenomenon in the 1990s. As long as her
        products had a distinct, visible tag with "R" on one side and "Retro" on
        the other, she could manufacture anything from the Lima Bean Babies catalog.</p>
      <p>
        To handle fulfilment, Jodie works in small batches
        with a large number of different products and
        frequently changes manufacturers to stay on top of shifting materials,
        transportation, and tariff costs.</p>
      <p>Jodie registers a DID with US Customs and Border Protection (US CBP) for
        ImportersRUs (demonstrating proof-of-control as she does) and secures a digital
        license from Tie Enterprises (owners of the Lima Bean Babies trademark and designs)
        issued to her DID and signed using a DID that Tie Enterprises has also
        registered with US CBP.
        For her manufacturers, Jodie cryptographically delegates the digital license to
        individual manufacturers using the DID (which is both the subject of the license
        <em>and</em> known to US CBP). Those manufacturers are responsible for getting
        the product to the port of Los Angeles. They, in turn, cryptographically delegate
        their licenses to logistics firms to actually move the product from their facility
        to Los Angeles, while maintaining cryptographic verifiability of both the
        original license, and the chain of delegations.</p>
      <p>When her products reach the United States, CBP can automatically review the
        digital manifest filed for entry and each of the delegations to verify that this given
        batch of products are, in fact, officially licensed Lima Bean Baby products.
      </p>
      <p>This digitally verifiable provenance of
        her license streamlines access through US Customs, regardless of her supply
        chain, without reducing the effectiveness of CBP at fighting the illegal
        import of pirated product.</p>
	  <p class="reqList"><span class="reqListbefore">Requirements:</span>
    <span data-reqid="authenticate"></span>,
	  <span data-reqid="associatedCrypto"></span>,
	  <span data-reqid="delegation"></span>,
    <span data-reqid="interJ"></span>,
	    <span data-reqid="humanInterop"></span>
</p>
      <p class="shortUcContributor">Suggested by DHS SVIP</p>
    </section><!-- importing retro toys -->

    <section id="publicAuthorityCredentials">
      <h3>Public authority identity credentials (eIDAS)</h3>
      <p>Eva is a young woman and citizen of Belgium. Like many individuals of her
        generation, what matters to her is not only her connection to her own nation
        state, but also her identity as European as well as the beliefs in cross-border
        values and mobility. Eva is interested in pursuing a Bachelor's Degree at a
        university in Spain.</p>
      <p>In order to facilitate the administrative processes involving authorities and
        organizations in multiple countries, she wishes to manage her digital identity
        in a way that is independent of a central authority. She installs a
        wallet and creates a DID within the European Self-Sovereign Identity Framework
        (<a href="https://ec.europa.eu/cefdigital/wiki/pages/viewpage.action?pageId=262505734">ESSIF</a>),
        which is being implemented with support from the European Commission,
        as part of the European Blockchain Service Infrastructure
        (<a href="https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/ebsi">EBSI</a>).
        Eva then requests a digital credential from the Federal Government of Belgium
        containing claims about her legal identity (name, date of birth, etc.).
        This credential is compliant with the E.U.'s Electronic IDentification,
        Authentication and Trust Services regulation
        (<a href="https://en.wikipedia.org/wiki/EIDAS">eIDAS</a>), which standardizes
        attributes and trust services in all E.U. member states.</p>
      <p>With her ESSIF identity, Eva can apply to the Spanish university. The university
        in turn issues further digital credentials to Eva's wallet, such as a student
        record number, or - after successful completion of the program - a digital diploma.
        In her future life, Eva can continue to enrich and use her ESSIF identity in many
        ways, for example when applying for a job at a company in Finland, for registering
        her own business in Romania, for opening a bank account, or for applying for E.U.
        grants. Since her ESSIF identity includes credentials from eIDAS-compliant public
        authorities, it is suitable for use cases requiring the highest levels of
        assurance, while still providing the benefits of a decentralized identity
        architecture.</p>
	  <p class="reqList"><span class="reqListbefore">Requirements:</span>
      <span data-reqid="authenticate"></span>,
	  <span data-reqid="unique"></span>,
	  <span data-reqid="noCallHome"></span>,
	  <span data-reqid="associatedCrypto"></span>,
	  <span data-reqid="minRent"></span>,
      <span data-reqid="noVendorLock"></span>,
      <span data-reqid="cryptoFuture"></span>,
      <span data-reqid="cryptoAuthComm"></span>,
      <span data-reqid="legallyEnabled"></span>,
	    <span data-reqid="humanInterop"></span>
</p>
      <p class="shortUcContributor">Suggested by Eric Wagner, Markus Sabadello</p>
    </section><!-- public authority credentials -->
	      
        <section id="correlation">
          <h3>Correlation-controlled Services</h3>
        <p>Cary is frustrated by the seemingly ubiquitous systems of privatized surveillance that monitor her actions in an
     attempt to improve their convenience. She was one the first adopters of anti-cookie features and anti-adware software 
     and avoids "Sign-in with (some platform)". Unfortunately, this also means all she doesn't get the benefits offered by 
     many of today's online services including the ability to cut the airport security line or shop by using her face at the 
	      neighborhood market. She just isn't willing to sacrifice her privacy by using OAuth or OpenID Connect for a 
		convenient login: every sign-in with those technologies are visible to the "identity provider". Further, behind 
		the scenes, every service is legally able to correlate the identifier she uses for authentication with each other, 
		collecting information that Cary may not have divulged if asked directly. She finds it manipulative at best, and 
		at times, outright coercive. With Decentralized Identifiers, Cary creates a pair-wise unique DID for every service 
		provider she interacts with, and her wallet and/or agent not only manages which DID is used for which service, it
		also manages &mdash; if she approves it directly or though policy &mdash; automatic authentication and authorization 
		with those services she trusts. She now has cryptographically unique identifiers that are correlatable only by 
		those services she chooses to use them &mdash; and a single-sign-on experience with her semi-autonomous client-side 
		self-sovereign or fiduciary delegate &mdash; without introducing a third party who knows every site she visits.</p>

		<!-- The text to display in the following paragraph is generated based on the data-reqID attributes -->
		<p class="reqList"><span class="reqListbefore">Requirements:</span>

<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="noCallHome"></span>,
<span data-reqid="privacyPreserving"></span>,
<span data-reqid="noVendorLock"></span>,
<span data-reqid="limitTrack"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="humanInterop"></span>

</p>
	<p class="shortUcContributor">Contributed by Adrian Gropper</p>
        </section><!-- Correlation-->

	      
	      
	      
	      
  </section> <!-- End short use cases -->

<section id="requirements"><h2>Requirements</h2>
<p>The short use cases in the previous section, and the focal use cases towards the end of the document,
	point to a set of requirements that Decentralized Identifiers must fulfil. The use cases and their
	requirements are tabulated below, followed by a definition of each requirement.</p>
<!-- table and reqs definitions are inserted automagically here -->
</section>

<section id="featureBenefitGrid"><h2>Features and Benefits</h2>
<p>In collecting and evaluating potential use cases and requirements it is possible to identify the key
	features of DIDs that provide benefits in the areas of anti-censorship, anti-exploitation, ease of
	use, privacy, and sustainability. The requirements and their associated benefits can be seen in the following grid.</p>
<!-- grid automagically appears here -->
</section>

  <section id="actions">
      <h2>DID Actions</h2>
        <p>Here are the actions envisioned in earlier work by
		<a href="https://www.w3.org/community/credentials/">Credentials Community Group</a> as being necessarily supported by

		<abbr title="Decentralized Identifier">DID</abbr>s. Actions have been grouped by Create, Use,
		Read, Update, and Delete.</p>
        <section id="actionCreate">
        <h2>Create</h2>

<figure id="didCreate" class="actionSVG">
<img src="images/didCreate.svg" alt="Diagram shows Subject and Controller as separate entities (represented as outlines of people) then an arrow labelled with the word Create pointing to a box representing the DID. A second arrow, labelled Register DID, points to a box representing the registry." />
<figcaption>The basic flow for creating and registering a DID</figcaption>
</figure>
        <p>Controllers create DIDs, uniquely binding cryptographic proofs with the identifier, typically using
		public-private key-pairs. These DIDs may be recorded in a registry in such a manner as to be able to
		resolve to a  DID Document. The DID Document may be dynamically and deterministically generated through resolution or
		it may be explicitly constructed as a  stand-alone resource and either stored or referenced in the registry.
		In this scenario, the process will need access to any registry, ideally a decentralized system, and like the
		rest of the DID actions, it should be possible to create the DID without interaction with any particular authority.</p>
        </section>
	      <section id="use"><h2>Use</h2>

<figure id="didUse" class="actionSVG">
<img src="images/didUse.svg" alt="Complex diagram. Controller presents DID to requesting party (RP). RP resolves DID to get public proof material published by controller, signed by controller's private proof material. Requesting party sends challenge string to controller who signs with same private material and returns, thus proving control of DID and verifying the signature." />
<figcaption>Possible flow showing how an authentication interaction could use DIDs for autonomous authentication</figcaption>
</figure>
        <section id="actionPresent">
            <h3>Present</h3>
        <p>DIDs are <a>URI</a>s, which is to say a string of characters. As such, they may be presented in the same manner as
		URIs by simply transmitting  or presenting that string of characters. There is no requirement, however,
		that DIDs be human readable. Thus they may contain long, complex numbers represented in  various formats. For
		ease of use, implementations may rely on data carriers such as QR codes [[QR]] for ease of capture using a camera-enabled device
		such as a smart phone.</p>
        </section>
        <section id="actionAuthenticate">
        <h2>Authenticate</h2>
		<p>Requesting Parties may wish to prove that the individual presenting a DID is in fact its <a>DID Controller</a> or
		specified as a Controller for a  particular service endpoint. This authentication process should use the cryptographic
		material in the DID Document to test if the claimed Controller can, in fact, prove  control, typically through some
		sort of challenge-response. DID Documents and methods may allow for separate proofs for different service endpoints,
		distinct from update and delete actions. This separation would support transactional proofs that are expected to be
		used frequently, while controlling proofs are expected to be used rarely.</p>
        </section>
        <section id="actionSign">
        <h3>Sign</h3>
		<p>Using cryptographic material associated with that found in a  <a>DID Document</a>, <a>DID Controller</a>s may sign digital
		assets or documents. This  signature can later be verified to demonstrate the
		authenticity of the asset. In this way, it should be possible to refer to the asset as "signed  by the DID".</p>
        </section>
        <section id="actionVerifySignature">
        <h2>Verify Signature</h2>
        <p>Given a digital asset signed by a DID, a Requesting Party may use the
	cryptographic material in the DID Document to verify the signature.</p>
        </section>
	      </section><!-- use -->
	      <section id="actonRead"><h2>Read</h2>
<figure id="didRead" class="actionSVG">
<img src="images/didRead.svg" alt="Complex diagram. Requesting party resolves DID at a DID registry. A DID document is returned. The DID is then dereferenced to get a service endpoint. There is no identity provider involved. The process can be audited by querying the registry." />
<figcaption>The 'DID Document' should be understood to be information suitable for establishing secure interactions on behalf of the subject, such as public key material and service endpoints.</figcaption>
</figure>
        <section id="actionResolve">
        <h3>Resolve</h3>
        <p>The first step in using a DID for anything other than presentation is to resolve the DID to a specific <a>DID Document</a>,
		to reveal the  cryptographic material and service endpoints associated with that DID. How this occurs should be
		method-specific and is out of scope for the DID Working Group.</p>
        </section>
        <section id="actionDereference">
        <h3>Dereference</h3>
        <p>Dereferencing a DID uses the material in its DID Document to return a resource. The expectation is that, by default, dereferencing
		a DID without a reference to a service endpoint will return the <a>DID Document</a> itself. When a DID is combined with a
		<code>service</code> <a href="https://www.w3.org/TR/2019/WD-did-core-20191113/#generic-did-parameter-names">parameter</a>
		(forming a <a>DID URL</a>), dereferencing will return the resource pointed to from the named service endpoint, which was
		discovered by resolving the DID to its DID Document and looking up the endpoint by name. In this way, a
		Requesting Party may dynamically discover and  interact with the current service endpoints for a
		given DID. Services can therefore be given persistent identifiers that do not change even when the underlying service
		endpoints change.</p>
        </section>
        <section id="actionAudit">
        <h2>Audit</h2>
        <p>Some methods may provide an explicit audit trail of all
		actions on that DID, including a timestamp for when the actions took place. For distributed ledger-based
		registries, this audit trail is fundamental to the way  the ledgers record transactions. This would allow
		Requesting Parties to see, for example, how recently a DID was rotated or its service
		endpoints updated, which may inform certain analytics regarding the reliability of the DID's
    cryptographic material.</p>
	</section>
	      </section><!-- Read -->
	      <section id="actionUpdate"><h2>Update</h2>
<figure id="didUpdate" class="actionSVG">
  <img src="images/didUpdate.svg" alt="Diagram shows controller on the left with an arraow labeled 'Modify' leading to three boxes labeled 'Service endpoints', 'Forward/Migrate' and 'Recovery material'. A separate arrow labeled 'Rotate or revoke' points to 'Public proof material.'" />
<figcaption>Controllers have many options to ensure the continued usefulness of a DID</figcaption>
</figure>

            <section id="actionRotate">
        <h2>Rotate</h2>
        <p>Controllers may rotate (that is, update) the cryptographic material for a DID  by updating the DID Document as
		recorded in its registry. Different methods should be able to handle this differently, but
		the result would be an update to the core cryptographic proof required to prove control of the DID and the DID Document.</p>
        </section>
        <section id="actionModifyServiceEndpoint">
        <h3>Modify Service Endpoint</h3>
		<p><a>DID Controllers</a> should be able to change service endpoints associated with a DID, including the proof mechanism
		for authenticating as the Subject for any  given endpoint. The process for doing this is method specific, but is designed to
		allow Controllers to make these changes without necessarily changing the primary proof mechanism for control of the DID itself.</p>
        </section>
        <section id="actionForwardMigrate">
        <h3>Forward / Migrate</h3>
		<p>To support interoperability, some methods may provide a way for <a>DID Controllers</a> to record in their registry (by updating the
		DID Document), that the  DID should be redirected to another DID, which now has full authority to represent the originating
		DID. This mechanism would allow <a>DID Controllers</a> to migrate a DID  from one method or registry to another.</p>
        </section>
        <section id="actionRecover">
        <h3>Recover</h3>
        <p>Some methods may provide a means for recovering control of a DID if its existing private cryptographic material is lost. These
		means will vary by method but can include social recovery, multi-signature,
		<a href="https://en.wikipedia.org/wiki/Shamir's_Secret_Sharing">Shamir sharing</a>, or pre-rotated  keys. In general,
		recovery triggers a rotation to a new proof, allowing the <a>DID Controller</a> of that new proof to recover control of the
		DID without interacting  with any Requesting Parties.</p>
        </section>
    </section><!-- Update -->
    <section id="delete"><h2>Delete</h2>
<figure id="didDelete" class="actionSVG">
<img src="images/didDelete.svg" alt="Diagram shows an arrow from the controller to the registry, labeled 'Deactivate DID'. On the roght hand side, the Requesting patry is connected to the Registry by an arrow labeled 'Resolve DID'. The return arrow, colored red, is labeled 'Inactive.'" />
<figcaption>DIDs can be deactivated</figcaption>
</figure>

           <section id="deactivate"><h3>Deactivate</h3>
       <p>Instead of deleting a DID, Controllers should be able to deactivate a DID such that downstream processes like authentication and
		dereferencing are no longer functional. Most decentralized systems cannot guarantee actual deletion of a record.
		Indeed, distributed ledgers are often touted as "immutable". Methods should define deactivation processes to achieve
		the same effect as deletion. The mechanisms for deactivation will vary based on the method and therefore the 'inactive' message(s) will vary.</p>
        </section>
     </section><!--delete-->
    </section> <!-- Actions -->

    <section id="focalUseCases">
        <h2>Focal Use Cases</h2>
        <section id="didEnterprise">
      <h3>Enterprise Identifiers</h3>
      <section>
        <h4>Background</h4>
        <p>
          There are many types of identifiers that corporations use today
          including tax identification numbers (e.g. 238-42-3893), Legal
          Entity Identifiers (e.g. 5493000IBP32UQZ0KL24), Data Universal
          Numbering System identifiers (a.k.a. DUNS Number, e.g. 150483782),
	  Global Location Number (e.g. 9501101020016),
          and many more that communicate the unique identity of an organization.
          None of these numbers enable an organization to self-issue an
          identifier or to use the number to cryptographically authenticate or
          digitally sign agreements. Business to business
          and business to customer transactions might be conducted with more
	  efficiency and with greater assurance of the validity of the
	  transaction if a mechanism to self-issue cryptographic identifiers
	  were created.
        </p>
      </section>
      <section id="didEnterpriseDescrption">
        <h4>Description</h4>
        <p>
          A North American government would like to ensure that the supply
          chain that feeds electronic products into the country is secure. As
          a result, a new method of submitting digital documentation to Customs is enabled that requires that all documentation is
	  provided as machine-readable digitally signed data with proof of provenance from supply chain partners whose identities
	  are themselves known to a high degree of certainty. Digitally signed documentation
          is collected at each stage of the manufacturing, packaging, and
          shipping process. This documentation is then submitted to Customs
          upon the product's entry into the country where all digital signatures
          are verified on the documentation. Some aspects of the signed
          documentation, such as firmware hashes and checksums, are then used
          by Customs and downstream customers to verify that the products have
          not been tampered with after leaving the manufacturing facility.
        </p>
        <p>
          Decentralized Identifiers should ensure 1) low
          management overhead for the government, 2) self-management of
          identifiers and cryptographic key material, and 3) a competitive
          marketplace.
        </p>
      </section>
      <section id="didEnterpriseChallenges">
        <h4>Challenges</h4>
        <p>
          The requirement of downstream customers to use the same documentation
          and digital signature mechanisms that were provided to Customs is
          potentially problematic in this scenario. Governments often create ad-hoc
          solutions for their import solutions, which make securing the global
          supply chain difficult as each government has their own method of
          securing the supply chain and identifying corporations that downstream
          customers need to integrate with. If you are a global company, that
          means integrating with many supply chain systems (each with different
          capabilities). As such, any securing of the supply chain with downstream
          customers must then depend on the country-specific corporate
          identification and PKI solution, which leads to ad-hoc solutions that
          drive up the cost of doing business across borders.
        </p>
        <p>
          A supply chain identifier solution that is simple, self-administered,
          built on global standards, is flexible in the cryptographic mechanisms
          used to authenticate, and can be used by governments and downstream
          customers with little to no modification to the regional government
          or corporate systems does not exist today.
        </p>
      </section>
      <section id="didEnterpriseDistinctions">
        <h4>Distinctions</h4>
        <p>
          Many Decentralized Identifier use cases focus on Self-Sovereign
          Identity and individuals. This use case focuses on organizations and
          their departments as entities that would also benefit from
          Decentralized Identifiers.
        </p>
      </section>

	  <p class="reqList"><span class="reqListbefore">Requirements:</span>
<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="unique"></span>,
<span data-reqid="noCallHome"></span>,
<span data-reqid="associatedCrypto"></span>,
<span data-reqid="keyRotation"></span>,
<span data-reqid="serviceEndpoint"></span>,
<span data-reqid="delegation"></span>,
<span data-reqid="interJ"></span>,
<span data-reqid="noDenial"></span>,
<span data-reqid="noVendorLock"></span>,
<span data-reqid="cryptoFuture"></span>,
<span data-reqid="orgMort"></span>,
<span data-reqid="deployEnd"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="cryptoAuthComm"></span>,
<span data-reqid="regAgnostic"></span></p>


    </section><!-- end enterprise IDs -->


    <section id="edu">
      <h3>Life-long Credentials (education)</h3>
	    <p class="focalContributor">Contributed by Kim Hamilton-Duffy</p>
      <section id="eduBackground">
        <h4>Background</h4>
        <p>Educational Verifiable Credentials [[VC-DATA-MODEL]] offer benefits over traditional
          educational credentials in that the recipient is able to store and
          share their credentials, and a third party may independently verify
          the credential (including authenticating the identity of the recipient),
		  without necessarily consulting the issuer, and without dependence on
		  centuries old treaty-based bureaucratic process for the international
      verification of credentials. This provides the promise of recipient-owned
		  long-lived credentials that the recipient may use in any country,
		  even if the issuing institution goes out of business.
        </p>
        <p> However, traditional public-private key pair-based identifiers
			present challenges for rotating keys, especially if
			the identifier in a credential is simply the public key (with
			the private key used for authentication).</p>
        <ol>
    		<li>With the public key embedded in the digitally signed credential,
				it is literally impossible to update the signing key; a recipient
				must  contact the issuer and request re-issuing with a new
				identifier. If the issuer is not reachable, or is unwilling
				or unable to issue a new credential, the recipient cannot
				update the cryptographic material.</li>
			<li>If the credential relies on a centralized key registry or
				authority for managing rotation, then that registry becomes
				the centralized point of failure. This may or may not be an
				improvement, especially for longer held credentials.</li>
			<li>If the credential's cryptographic technology becomes outdated,
				there is no way to update the credential to use a more robust
				technology; a recipient must contact the issuer for reissuance.</li>
		  </ol>
        <p>The key rotation is particularly problematic for credentials
            expected to last a lifetime. It should be anticipated that
			a given individual will change their key management strategy and
		    systems several times over the course of their life, e.g. relying
		    on a cloud wallet, a mobile wallet, or a dedicated hardware wallet,
		    as their needs change.</p>
        <p>By issuing an educational credential to a recipient's DID, the
			recipient has the ability to prove ownership of a credential even
			if the cryptographic material used for authenticating changes over time.</p>
      </section>
      <section id="eduDescription">
        <h4>Description</h4>
	      <p>When Sally earned her master&rsquo;s degree at the <a href="https://www.ox.ac.uk/">University of Oxford</a>,
		      she received a digital diploma that contained a decentralized identifier she provided. This digital diploma is signed using a decentralized
		      identifier which has been published and verified by the University of Oxford.
			Over time, she updates the cryptographic material associated with that
			DID to use her latest hardware wallet, with biometric protections and a
			quantum resistant algorithm. A decade after  graduation, she applies for
			a job in Japan, for which she provides her digital diploma by uploading
			it to the prospective employee&rsquo;s website. To verify she is the
			actual recipient of that degree, she uses the decentralized identifier
			to authenticate, using her current hardware wallet (with rotated keys).
			In addition to the fact that her name matches the name on the diploma,
			the cryptographic authentication provides a robust verification of her
			claim, allowing the employer to rely on Sally&rsquo;s assertion that she
			earned a master&rsquo;s degree from the stated university without having to contact the university directly.</p>
      </section>
      <section id="eduChallenges">
        <h4>Challenges</h4>
        <p>Rotating keys without invalidating Sally's educational credentials and
			providing acceptable proof of education internationally.</p>
      </section>
      <section id="eduDistinction">
        <h4>Distinction</h4>
        <p>Oxford had no need to provide services for  resetting or updating
        Sally&rsquo;s username or password; they had no role in  managing
        Sally&rsquo;s changes to her authentication credentials. The potential
        employer did not need to contact Oxford to verify Sally&rsquo;s claim of
        a master&rsquo;s  degree; they were able to verify the credential and
        authenticate Sally&rsquo;s  identity with information retrieved over the
        Internet.</p>
      </section>
	  <p class="reqList"><span class="reqListbefore">Requirements:</span>

<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="unique"></span>,
<span data-reqid="noCallHome"></span>,
<span data-reqid="associatedCrypto"></span>,
<span data-reqid="keyRotation"></span>,
<span data-reqid="serviceEndpoint"></span>,
<span data-reqid="interJ"></span>,
<span data-reqid="noDenial"></span>,
<span data-reqid="minRent"></span>,
<span data-reqid="noVendorLock"></span>,
<span data-reqid="limitTrack"></span>,
<span data-reqid="cryptoFuture"></span>,
<span data-reqid="orgMort"></span>,
<span data-reqid="deployEnd"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="cryptoAuthComm"></span>,
<span data-reqid="regAgnostic"></span>,
	    <span data-reqid="humanInterop"></span>
</p>

    </section> <!-- end Edu -->


    <section id="prescriptions">
      <h3>Prescriptions (healthcare)</h3>
      <section id="prescriptionsBackground">
        <h4>Background</h4>
        <p>
          Alicia wants help with her urinary tract infection (UTI) and is a bit
          touchy about her privacy. In the old days, she would have to make an
          appointment in-person and get a paper prescription to take to a
          pharmacy. She wants to save money and have peace of mind.
        </p>
      </section>
      <section id="prescriptionsDescription">
        <h4>Description</h4>
        <p>
          Alicia is in a state that allows an online service to diagnose and
          prescribe medication. She uses the identity wallet on her smartphone
          to register with the online medical practice. She tells the online
          practice her name is Althea (a pseudonym)
          with password-less authentication and a verified driver's license
          credential to prove that she's a resident of the state. The remote physician,
          Barkley, is licensed by the state Board of Medicine and credentialed by the
          online service. He's securely signed in using the
          identity wallet on his smartphone. Barkley issues Alicia a digital
          prescription in the form of a verifiable credential and allows Alicia
          to download it however she pleases. Alicia is a librarian and trusts
          her local public library to erase their logs as allowed by law. She
          uses one of their computers to sign-in and do all of this. She snaps
          a picture of the QR code that is the prescription to take to the
          pharmacy. Connor, the licensed pharmacist, scans the prescription
          QR code and fills the prescription. Alicia pays cash.
        </p>
      </section>


      <section id="prescriptionsChallenges">
        <h4>Challenges</h4>
        <p>The challenge of this particular use-case is that only Barkley and
          Connor are verified identities and accountable for their interaction
          with Alicia. Alicia can be anonymous or pairwise-pseudonymous with both
          Barkley and Connor and everything just works. Alicia, Barkley, and Connor
          all keep separate and legally authentic copies of the records of their
          interaction in case of dispute.
        </p>
      </section>
      <section id="prescriptionsDistinction">
        <h4>Distinction</h4>
        <p>
          The Prescription use-case is a common and high-value example of
          privacy engineering as we shift to convenient and cost-effective
          online commerce among licensed and unlicensed individuals as peers.
          Barkley and Connor benefit by reducing or even eliminating the influence
          of their respective institutions or employers and therefore make more
          money. They pass some savings to Alicia who also gets increased peace
          of mind.
        </p>
      </section>
	  <p class="reqList"><span class="reqListbefore">Requirements:</span>
<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="unique"></span>,
<span data-reqid="associatedCrypto"></span>,
<span data-reqid="serviceEndpoint"></span>,
<span data-reqid="privacyPreserving"></span>,
<span data-reqid="limitTrack"></span>,
<span data-reqid="cryptoAuthComm"></span>,
	    <span data-reqid="humanInterop"></span>
</p>


    </section> <!-- end prescriptions -->

    <section id="law">
      <h3>Digital Executor (law)</h3>
      <section id="lawBackground">
        <h4>Background</h4>
        <p>
          Today, when people die, there are no standard technologies for heirs,
          executors, or probate courts to properly take control of an individual's
          online accounts and digital assets. With a DID linked to accounts and
          assets, a DID owner could define a trigger for a third party to assume
          control over the DID Document. Ideally, this trigger would specify (a)
          an oracle (how to know the death/incapacity occurred), (b) a means for
          the new owner to assert control, and (c) appropriate checks and
          accountability.
        </p>
      </section>
      <section id="lawDescription">
        <h4>Description</h4>
        <p>
          Kathy uses DIDs to manage her authentications to various services.
          As part of her estate planning, she generates a unique credential
          that she gives to her attorney, Gloria, with provisions specified in
          her will, which initially lists Mike as the digital executor. With
          appropriate obfuscation, that credential is specified in multiple DID
          documents as a probate authority, with the authorization to change the
          master key in case of death, which shall be recorded publicly, on chain,
          as a notarized invocation of the probate authority. As it happens,
          Kathy had a falling out with Mike and notified Gloria just two weeks
          before her death that her friend Miyake should now be her digital
          executor. Upon Kathy's death, Gloria uses the probate credential to
          publicly record the assertion of probate and to replace the DID's master
          key with a new key, controlled by Miyake, who lives in Japan (Kathy,
          Gloria, and Mike live in the United States). Now, any system using
          Kathy's DIDs for authentication can programmatically recognized Miyake's
          authority <em>and</em> specifically know that Kathy's credentials were
          modified under a assertion of probate.
        </p>

      </section>



      <section id="lawChallenges">
        <h4>Challenges</h4>
        <p>
          The late date change in digital executorship from Mike to Miyake
          could be problematic if Kathy had directly listed Mike's credential
          in the DID Document. Because she instead chose to rely on her attorney,
          Kathy has a more flexible way to direct her wishes, while still
          leveraging the collective control over her authenticated logins to
          various services. In addition, Miyake's geographic location could
          make it hard for them to travel to the United States and may make it
          difficult to provide proof of identity traditionally used by U.S. courts.
          Also, because Gloria invokes the probate mechanism, Miyake need only
          provide a suitable credential at that time; he did not need to create
          and maintain a credential over a long period of time (as would be the
          case if Gloria weren't involved).
        </p>
      </section>
      <section id="lawDistinction">
        <h4>Distinction</h4>
        <p>
          Multiple DIDs with a common, blinded authority for probate assumption
          of control. The legal selection of the new owner is mediated through
          a trusted fiduciary (an attorney of record). Cross-border transfer of
          ownership.
        </p>
      </section>
	  <p class="reqList"><span class="reqListbefore">Requirements:</span>

<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="unique"></span>,
<span data-reqid="associatedCrypto"></span>,
<span data-reqid="keyRotation"></span>,
<span data-reqid="serviceEndpoint"></span>,
<span data-reqid="privacyPreserving"></span>,
<span data-reqid="delegation"></span>,
<span data-reqid="interJ"></span>,
<span data-reqid="noDenial"></span>,
<span data-reqid="minRent"></span>,
<span data-reqid="noVendorLock"></span>,
<span data-reqid="cryptoFuture"></span>,
<span data-reqid="deployEnd"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="cryptoAuthComm"></span>,
<span data-reqid="legallyEnabled"></span>,
	    <span data-reqid="humanInterop"></span>
</p>

    </section> <!-- end law -->

    <section id="sso">
      <h3>Single Sign On (security)</h3>
      	    <p class="focalContributor">Contributed by Adrian Gropper</p>
<section id="ssoBackground">
        <h4>Background</h4>
        <p>
          Passwords are notoriously misused ("123456"), stolen from the
          supposedly-secure database on the server-side, easy to forget when
          sufficiently secure, and never the last word in authentication for
          forgotten password situations. Proving control of a DID can replace
          storage and retrieval of a shared secret.
        </p>
      </section>
      <section id="ssoDescription">
        <h4>Description</h4>
<p class="ednote">This section in particular needs review to ensure it carries
information relevant to the WG's work.</p>
        <p>Use a DID as a single-sign-on to a Web site, for example between
          a Web page and a Web browser with a mobile identity app. When desirable,
          the relationship can add a shared secret for two-factor authentication (2FA).</p>
        <p>Detailed aspects of this use case are out of scope for the Decentralized
        Identifier Working Group but they have been explored elsewhere [[DID-Auth]].

<!--
using <a href="https://github.com/WebOfTrustInfo/rwot6-santabarbara/blob/master/draft-documents/did_auth_draft.md">DID Auth</a> (especially
          cases like the <a href="https://github.com/WebOfTrustInfo/rebooting-the-web-of-trust-spring2018/blob/master/draft-documents/did_auth_draft.md#did-auth-architecture-6-web-page-and-web-browser">
          example between a web page and web browser with a mobile
          identity app</a>) directly or via the <a href="https://w3c-ccg.github.io/credential-handler-api/">
          Credential Handler API</a>.

          Use DID as single-sign-on to a website, using one of the variants of DID Auth (see [[DID-AUTH-INTRO]]).
          This can be implemented using different protocols and APIs, such as [[DID-AUTH-OIDC-SIOP]] or [[CREDENTIAL-HANDLER-API]].
          When desirable, the relationship can add
          a shared secret for 2FA.

          (except does DID Auth include any extensions that enable this
          subsequent ascension without starting another socket?).-->
        </p>
      </section>
      <section id="ssoChallenges">
        <h4>Challenges</h4>
        <p>
          Transfer sign-on capability from control of a password to control of
          the DID. <!--, as shown in DID-Auth, using appropriate devices. Optionally
          include 2FA, although DID Auth doesn't handle that well, yet. -->
        </p>
      </section>
      <section id="ssoDistinction">
        <h4>Distinction</h4>
        <p>This use case describes the most common authentication action for people on the Internet.
        </p>
      </section>

	  <p class="reqList"><span class="reqListbefore">Requirements:</span>
<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="unique"></span>,
<span data-reqid="associatedCrypto"></span>,
<span data-reqid="minRent"></span>,
<span data-reqid="cryptoFuture"></span>,
	    <span data-reqid="humanInterop"></span>
</p>

    </section> <!-- end sso -->

	    <section id="aliceRents">
<h3>Alice Rents a Car (credentials)</h3>
	    <p class="focalContributor">Contributed by Adrian Gropper</p>
<section id="aliceRentsBackground">
<h4>Background</h4>
<p>It’s 2021 and <abbr title="Self-Sovereign Identity">SSI</abbr> is the golden child. Alice looks forward to never having to
	use a password or fill out a form again. Alice’s service providers are looking to adopt zero-trust architecture with
	<abbr title="Year 2000 bug">Y2K</abbr> zeal. Neither of them really know what SSI or zero-trust means, but they want it.</p>
</section>
<section id="aliceRentsDescription"><h4>Description</h4>
<p>Alice has just provisioned an “agent” as recommended by an organization she trusts and supported by her browser vendor.
	It’s costing her $5/month and is somehow linked to the facial recognition that also unlocks her smartphone. Her
	agent occasionally sends a text message asking a question with a yes or no answer but otherwise mostly leaves her
	alone. Her agent bears a “Magic Button” logo that she thinks is a bit like “credit cards welcome here” in the old days.</p>
<p>Alice is going to France. She uses a non-tracking search engine to discover a list of car rental companies anonymously to avoid
	price discrimination and targeted ads. Some of the rental companies display the "Magic Button" logo, some don’t. She
	knows that the ones that do will respect her agent. She picks a company for the rental even though she has never done
	business with them before, knowing that with "Magic Button" her user experience will be an automated breeze.</p>
<p>Among dozens of others, Alice already has "Magic Button" service providers for her US driver’s license, her US insurance,
	and her bank. The <abbr title="Department of Motor Vehicles.">DMV</abbr>, insurer, and bank all authenticate Alice using
	a secure pseudonym linked to her smartphone. Each of the three has a different DID for Alice, but each of the three knows
	that they can use that DID in court to hold Alice accountable. Alice just knows that her smartphone allowed her to sign her
	driver’s license application, her insurance application, and her bank customer registration form using facial recognition because "Magic Button" works.</p>
<p>Alice clicks on the “Rent Now” button and:</p><ul>
  <li>Exposes a DID through her agent in order to set up a secure communication channel.</li>
  <li>The car rental company tells Alice’s agent that they will need license, insurance, and bank info for the purpose of
	  renting a car in France.</li>
  <li>Alice’s agent has a policy that saying that any company as large as her chosen car rental company can get whatever
	  they explicitly ask for. Smaller companies, or large ones on a blacklist may need Alice to give explicit permission
	  &mdash; which the agent will ask for using a text message.</li>
  <li>Alice’s agent gives offers three signed bearer tokens authorizing release of her personal information from three specific
	  service providers. These tokens are encrypted so that the rental company doesn’t know what’s in them. Alice’s service
	  providers use pre-registered information linked to their DID for Alice to decrypt the tokens and verify they were signed by Alice’s agent.</li>
  <li>Note, that in this example, Alice does not care that her three service providers know she is becoming a rental customer.
	  If Alice did care, she might go through the trouble of having one or another of the services issue a Verified Credential
	  to her so she can present it wherever she wants. Alice’s agent has policies that force the more privacy preserving,
	  Holder-mediated flow when dealing with some less trusted vendors.</li>
  <li>The rental company gathers the information from Alice’s service providers, checks it against their internal rental policies,
	  and issues Alice’s agent a signed capability linked to a QR code. The agent emails the capability to Alice.</li></ul>
<p>The whole sequence from click in the search results to Alice getting a QR code in the email took 8 seconds. A week later:</p><ul>
  <li>Alice goes to the rental garage at Charles de Gaulle airport, and picks a car with the keys already in it and the price posted on
	  the parking space. She drives to the automated exit gate.</li>
  <li>At the gate, Alice opens her email, shows the QR code she received through her agent and gets a message on her phone
	  asking her to scan her face. The gate agent combines the license info of the car, the QR code and the challenge signed
	  by Alice with her face and opens the gate.</li></ul>
</section>
<section id="aliceRentsChallenges"><h4>Challenges</h4>
<p>The challenge in this case is to combine technical standards and protocols into a <em>human-meaningful</em> interoperability
	claim that crosses between one's general-purpose agent and a multitude of domain-specific service offerings.</p>
</section>
<section id="aliceRentsDistinction"><h4>Distinction</h4>
<p>This use case is based on a profiling exercise by a group to be determined and the voluntary adoption of the badge by some
	agents and some service providers. The badge need not be associated with a costly certification process which means that
	both audited and un-audited versions of the claim can co-exist. False and misleading assertions are already enforced by
	both the marketplace and by truth in labeling laws.</p>
</section>

<p class="reqList"><span class="reqListbefore">Requirements:</span>

<span data-reqid="keyRotation"></span>,
<span data-reqid="serviceEndpoint"></span>,
<span data-reqid="interJ"></span>,
<span data-reqid="noVendorLock"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="humanInterop"></span></p>

</section> <!-- Alice Rents a car -->

	    <section id="messaging">
      <h3>Portable Secure Communication</h3>
		    	    <p class="focalContributor">Contributed by Nader Helmy, Daniel Hardman, Ted Thibodeau Jr</p>

      <section id="messagingBackground">
        <h4>Background</h4>
        <p>
Designing systems that securely support the scale of global communication
on the Web has traditionally come with a distinct set of tradeoffs that
often negatively impact end-users. Current <abbr title="Public Key
Infrastructure">PKI</abbr> systems tightly control who gets to manage
and control the cryptographic keys associated with the set of digital
certificates that serve as the backbone of the internet. This constraint
means that modern cryptography is largely unusable for the average user,
forcing them to borrow or "rent" identifiers such as email addresses,
usernames, and website domains, through systems like
<a href="https://en.wikipedia.org/wiki/Domain_Name_System">DNS</a>,
<a href="https://en.wikipedia.org/wiki/X.509">X.509</a>, and
<a href="https://en.wikipedia.org/wiki/Social_network">social
networks</a>. By not directly controlling their own identifiers, people
who want to use secure communication are not only unable to utilize
cryptographic security in many of their everyday interactions, they are
also limited to choosing between traditional secure messaging services
to safely communicate with friends and family in a limited, chat-style
context.
        </p>
        <p>
In a traditional secure messaging approach, the security is a property 
of the platform; if a user changes platforms, either temporarily or 
permanently, they get their security a different way, tied to a different 
login and different terms of service. DIDs take security out of the hands 
of the context owner, i.e., an application or service provider, and put 
it in the hands of the DID controller, who can choose the contexts in 
which they want to communicate and when. This makes security decentralized 
and portable, instead of having the security of an interaction tied to the 
protocol, transport, or application used to facilitate it. This feature 
allows people to easily switch communication contexts without losing any 
security guarantees, and provides a resilient backbone for all internet 
communications. Moving away from traditional identifiers, such as phone 
numbers and email addresses, can help to break down the siloed ecosystems 
that prevent data portability and make it difficult to more broadly 
incorporate secure communication technology in applications and services. 
Current approaches to secure communication often have drawbacks such as 
the following:
        </p>
        <ul>
          <li>
reliance on commonly used identifiers which are not directly under 
user control
          </li>
          <li>
use of a central intermediary or centralized components to facilitate 
interactions
          </li>
          <li>
requirement that one or more parties have a highly available web server
          </li>
          <li>
siloed and non-interoperable security architectures tied to a single 
domain
          </li>
        </ul>
        <p>
DIDs help to solve this issue by enabling a style of communication which
is truly peer-to-peer and message-based. Message-based systems decouple
the relationship between producers of messages and consumers of messages,
creating an abstraction that puts the two on equal footing and allows for
many different kinds of devices with differing requirements to interface
in a flexible and technology-neutral way. DIDs allow people to
simultaneously use the same identifier for both traditional communications
and newer transactions that require a higher level of cryptographic
security, as well as allowing them to switch contexts without losing any
security guarantees. These decentralized identifiers are not rented or
borrowed from centralized providers but are instead directly under user
control.
        </p>
      </section>
      <section id="messagingDescription">
        <h4>Description</h4>
        <p>
Samira is a humanitarian aid worker in Khartoum who wants to create connections with new people she meets. 
		She has a smartphone but doesn’t always have Internet access in the remote areas that she 
		visits in her line of work. Since she can’t always use the Internet, most of her preferred 
		methods of communication are not always available. When she’s offline and meets a new person 
		she wishes to communicate with, she establishes a direct secure connection between her device 
		and theirs by having them scan a QR code to pass on her DID and start sharing peer-to-peer 
		messages secured by the keys on her device. When online, Samira’s DID can be resolved to its 
		DID document that contains her public key material. In this way, she can maintain these secure 
		connections whether she has access to the Internet or not. Whenever Samira is working on a new 
		campaign or wants to raise awareness about issues affecting her local region, she is able to 
		securely communicate with all relevant parties, regardless of the device, platform, or network 
		infrastructure they are using. </p>
<p>At one point, Samira sees a friend of hers, Ahmed, who’s part of a local organization campaigning against 
	unfair labor practices in local agriculture. Samira wants to support the efforts of this group and get 
	involved, but she worries that publicly allying with the farm workers will negatively affect her ability 
	to act as a neutral party in labor negotiations. By creating a unique DID for herself in the group at very 
	little cost, she can engage in online multi-party secure communication with all of the members of Ahmed’s 
	organization. Messages are secured via mutual authentication between Samira and each of the other members. 
	Using these connections, and using either direct peer to peer connections or online services that both Samira
	and Ahmed trust not to have any ‘backdoors’,  they are able to have private and confidential communications 
	with the other members at any time, without fear of censorship. Members of the organization are able to have 
	confidence that they’re talking to Samira, and she can verify who she is communicating with. Samira can use 
	the same identifier and connection with the group to share credentials that prove she’s a humanitarian worker 
	and attest to her history.</p>
<p>Eventually, Samira loses her phone. To make sure no one impersonates her, she revokes the keys on all of the DIDs 
	she is using for communication. Rather than losing access to all of her existing connections, Samira is able 
	to update her online service endpoints and routing capabilities to make sure she continues to receive messages 
	securely on the devices she still owns. When she gets a new phone, she can add new keys to her DID Document to 
	continue exchanging secure messages online with her connections without interruption. Keys shared through direct, 
	offline connections need to be updated individually by Samira to ensure continued communication. Should Samira want to change the DIDs she’s using (for instance, 
	because she’s changing DID method providers), she can send a message to her connections notifying them that she’s 
	deprecating her old DID and providing her new DID with authentic digital signatures. Again, for entirely offline 
	connections, this must be done one by one but it means that Samira is able to manage all of her secure communications
	across her devices, platforms, and applications in a consistent way, thanks to the security features provided by DIDs.</p>
      </section>

      <section id="messagingChallenges">
        <h4>Challenges</h4>
        <p>
Samira's use of a DID-based communication system comes with a number of
user experience challenges. These include the management of her different
communication contexts and switching between them, as well as the
automation of connection management with things like key rotation,
updating service endpoints, and routing via Agents. Users should not be
exposed to the details of such coordination, but should be able to
interact with, modify, and audit the process as needed. It’s likely that
users will be interacting with secure messaging protocols via a number
of different interfaces &amp; devices and for a variety of different
purposes, though the logic and experience should be coherent and
consistent across different platforms.
        </p>
      </section>
      <section id="messagingDistinction">
        <h4>Distinction</h4>
        <p>
Many DID use cases describe the need for authenticated communication and
cryptographic security. This use case focuses on today's reliance on phone
numbers or email addresses as primary identifiers for messaging services,
and illustrates how DIDs can be the backbone of a resilient message-based
architecture for the internet which is asynchronous, not mediated by third
parties, and empowering of everyday use of cryptographic identifiers for
both basic messaging and higher-level communications.
        </p>
      </section>
    <p class="reqList"><span class="reqListbefore">Requirements:</span>

<span data-reqid="associatedCrypto"></span>,
<span data-reqid="keyRotation"></span>,
<span data-reqid="serviceEndpoint"></span>,
<span data-reqid="privacyPreserving"></span>,
<span data-reqid="delegation"></span>,
<span data-reqid="authenticate"></span>,
<span data-reqid="decentralized"></span>,
<span data-reqid="unique"></span>,
<span data-reqid="interJ"></span>,
<span data-reqid="noVendorLock"></span>,
<span data-reqid="limitTrack"></span>,
<span data-reqid="cryptoFuture"></span>,
<span data-reqid="survivesRel"></span>,
<span data-reqid="cryptoAuthComm"></span>,
<span data-reqid="humanInterop"></span></p>

    </section> <!-- end messaging -->

</section>




      </section>
<script class="remove">
// The reqs are mapped to use cases via the data and functions in this section.

let reqObjectList = [];
let ucObjectList = [];
let featureObjectList = [];

function ReqObject(id,name,def,feature) {
  this.id = id;
  this.name = name;
  this.def = def;
  this.feature = feature;
  this.uc = [];
}

function ucObject(id,name) {
  this.id = id;
  this.name = name;
}

function featureObject(id, name) {
  this.id = id;
  this.name = name;
}

// This is hard coded, but it's the only place in the doc where each req's ID is given a natural language title
reqObjectList.push(new ReqObject("authenticate", "Authentication/proof of control", "It is possible to prove that the entity claiming control over the identifier is indeed its controller", ['antiExploit', 'sustainability']));
reqObjectList.push(new ReqObject("decentralized", "Decentralized/self issued", "These identifiers are created and managed by the controller of the identifier, who may also be its subject. They are not assigned, given, sold, or rented to the individual using them. The party relying on the identifier for identification, authentication, and authorization, does not need to manage the creation, update, and recovery of these identifiers.", ['antiCensorship', 'antiExploit', 'privacy', 'sustainability']));
reqObjectList.push(new ReqObject("unique", "Guaranteed unique identifier", "Identifiers are globally unique with no possibility of duplication, however unlikely that may be.", ['easeOfUse', 'sustainability']));
reqObjectList.push(new ReqObject("noCallHome", "No call home", "When using these identifiers, there is no need to contact the issuer of the identifier to verify it. Verification and authentication can occur without further communication with the issuer.", ['antiCensorship', 'antiExploit', 'privacy', 'sustainability']));
reqObjectList.push(new ReqObject("associatedCrypto", "Associated cryptographic material", "The identifier is tightly coupled with cryptographic material that can be used to prove control over that identifier.", ['antiCensorship', 'antiExploit', 'easeOfUse']));
reqObjectList.push(new ReqObject("keyRotation", "Streamlined key rotation", "When authentication materials need to be updated, these identifiers can update without direct intervention with requesting parties and with minimal individual interaction.", ['antiCensorship', 'antiExploit', 'easeOfUse', 'sustainability']));
reqObjectList.push(new ReqObject("serviceEndpoint", "Service endpoint discovery", "These identifiers allow requesting parties to look up available service endpoints for interacting with the subject of the identifier.", ['easeOfUse']));
reqObjectList.push(new ReqObject("privacyPreserving", "Privacy preserving", "Use of the identifier does not, of itself, reveal any information about the subject", ['antiCensorship', 'antiExploit', 'privacy']));
reqObjectList.push(new ReqObject("delegation", "Delegation of control", "The controller of the identifier is able to delegate that control to a third party.", ['easeOfUse']));
reqObjectList.push(new ReqObject("interJ", "Inter-jurisdictional", "Inter-jurisdictional identifiers do not depend on the legal jurisdiction in which they are issued. They are valid for uses anywhere without loss of fidelity or reliability. No jurisdiction is directly able to prevent their use.", ['antiCensorship', 'sustainability']));
reqObjectList.push(new ReqObject("noDenial", "Can't be administratively denied","These identifiers can't be denied or taken away by administrative function. This prevents shifting politics and bad actors from interfering.", ['antiCensorship']));
reqObjectList.push(new ReqObject("minRent","Minimized rents", "These identifiers don't incur ongoing expenses if unused nor on a per transaction basis. Fees based on updates—which incurs network and computational costs to verify—are considered \"minimal\".", ['sustainability']));
reqObjectList.push(new ReqObject("noVendorLock", "No vendor lock in", "These identifiers are not dependent on any given vendor. Vendor-specific identifiers restrict usage to that which is acceptable to the vendor and may allow vendors to extract disproportionate rents for usage.", ['antiExploit', 'sustainability']));
reqObjectList.push(new ReqObject("limitTrack", "Preempt/limit trackable data trails", "As cookies and other session/state-tracking mechanisms were gradually turned into scaffolding for unwanted or collusive tracking in the evolution of the web stack, so too might any new data exchange or communication systems unwittingly facilitate unwanted tracking based on new data trails. Resistance to these kinds of surveillance exploits need to be designed into new systems.", ['antiCensorship', 'antiExploit', 'privacy']));
reqObjectList.push(new ReqObject("cryptoFuture", "Cryptographic future proof", "These identifiers are capable of being updated as technology evolves. Current cryptography techniques are known to be susceptible to quantum computational attacks. Future-proofed identifiers provide a means to continue using the same identifier with updated, advanced authentication and authorization technologies.", ['antiExploit', 'sustainability']));
reqObjectList.push(new ReqObject("orgMort", "Survives issuing organization mortality", "These identifiers survive the demise of the organization that issued them. They usefulness of these identifiers survive organizations going out of business, being purchased (and potentially losing domain names or root credentials), and even the internal decay of an organization that no longer has the ability to verify the authenticity of records they once issued.", ['sustainability']));
reqObjectList.push(new ReqObject("deployEnd", "Survives deployment end-of-life", "These identifiers are usable even after the systems deployed by requesting parties move past their useful lifetime. They are robust against technology fads and can seamlessly work with both legacy and next-generation systems.", ['antiCensorship', 'sustainability']));
reqObjectList.push(new ReqObject("survivesRel", "Survives relationship with service provider", "These identifiers are not dependent on the tenure of the relationship with a service provider. This contrasts with identifiers like service-centric emails, e.g. joe@example.com, which, when used as identifiers in other systems, can cause problems when individuals no longer use the service provider.", ['antiExploit', 'sustainability']));
reqObjectList.push(new ReqObject("cryptoAuthComm", "Cryptographic authentication and communication", "These identifiers enable cryptographic techniques to authenticate individuals and to secure communications with the subject of the identifier, typically using public-private key pairs.", ['antiCensorship', 'antiExploit']));
reqObjectList.push(new ReqObject("regAgnostic", "Registry agnostic", "These identifiers are free to reside on any registry implementing a compatible interface. They are not beholden to any particular technology or vendor.", ['antiCensorship', 'antiExploit', 'sustainability']));
reqObjectList.push(new ReqObject("legallyEnabled", "Legally-enabled identity", "These identifiers can be used as a basis for credentials and transactions that can be recognized as legally valid under one or more jurisdictions.", ['antiExploit', 'easeOfUse', 'sustainability']));
reqObjectList.push(new ReqObject("humanInterop", "Human-centered interoperability", "Decentralized identifiers need to be easy to use by people with no technical expertise or specialist knowledge.", ['easeOfUse', 'sustainability']));


featureObjectList.push(new featureObject("antiCensorship","Anti-censor"));
featureObjectList.push(new featureObject("antiExploit","Anti-exploitation"));
featureObjectList.push(new featureObject("easeOfUse","Ease of use"));
featureObjectList.push(new featureObject("privacy","Privacy"));
featureObjectList.push(new featureObject("sustainability","Sustainability"));

if (ucObjectList.length === 0) {ucObjectList = createUcObjectList()}

function createUcObjectList() {
  let opList = [];
  let reqListParas = document.querySelectorAll('p.reqList');  // Our list of p elements that contain spans with data-reqid
  for (let i = 0; i < reqListParas.length; i++) {
    let e = reqListParas[i];
    let usecase = e.parentNode.id;   // This is the id of the UC that has these reqs
    opList.push(new ucObject(usecase, document.querySelector('#' + usecase + ' h3').textContent)); // build the use case object
    if (e.hasChildNodes()) {
      let children = e.childNodes;
      for (let j = 0; j < children.length; j++) {
        if ((children[j].nodeType === children[j].ELEMENT_NODE) && (children[j].dataset.reqid !== undefined)) {
          let r = children[j].dataset.reqid;    //This is the id of the req listed under the UC
          let reqObj = reqObjectList.find(x => x.id === r); // This is the ReqObject we're interested in
          let a = document.createElement('a');
          a.href = '#' + reqObj.id;
          a.appendChild(document.createTextNode(reqObj.name));  // Adds req name to the text under each UC, hyperlinked to req
          children[j].appendChild(a);
          reqObj.uc.push(usecase);  // records the UC for which this is a requirement
        }
      }
    }
  }
  return opList;
}

function createReqSummaryDl(targetElement) {
  let dl = document.createElement('dl');  // Creates a dl for easier display on mobile
  dl.id = "requirementsCrossRefDL";
  for (let req = 0; req < reqObjectList.length; req++) {  // Going through all the requirements
    let dt = document.createElement('dt');
    dt.id = reqObjectList[req].id + 'dt';
    let t = document.createTextNode(reqObjectList[req].name);
    dt.appendChild(t);
    dl.appendChild(dt);
    t = document.createTextNode(reqObjectList[req].name); // Repeated, I know
    for (let usecase = 0; usecase < reqObjectList[req].uc.length; usecase++) {
      let dd = document.createElement('dd');
      let a = document.createElement('a');
      a.href = '#' + ucObjectList.find(x => x.id == reqObjectList[req].uc[usecase]).id;
      t = document.createTextNode(ucObjectList.find(x => x.id == reqObjectList[req].uc[usecase]).name);
      a.appendChild(t);
      dd.appendChild(a);
      dl.appendChild(dd);
    }
  }
  document.getElementById(targetElement).appendChild(dl);
}

function createReqSummaryTable(targetElement) {
  let table = document.createElement('table'); // Creates a table for display if the screen is wide enough
  table.id = "requirementsCrossRefTable";
  let headertr = document.createElement('tr');
  let th = document.createElement('th');
  th.className = 'noBorder';
  headertr.appendChild(th); // This is the empty/invisible cell top left
  th = document.createElement('th');
  th.colSpan = reqObjectList.length;
  th.appendChild(document.createTextNode('Requirements'));
  th.className = 'multiColHeader';
  headertr.appendChild(th);
  table.appendChild(headertr);
  headertr = document.createElement('tr');
  th = document.createElement('th');
  th.appendChild(document.createTextNode('Use case'));
  headertr.appendChild(th);
  for (let r = 0; r < reqObjectList.length; r++) {  // The list of requirements across the top (just numbers)
    let th = document.createElement('th');
    let a = document.createElement('a');
    a.href = '#' + reqObjectList[r].id
    a.title = reqObjectList[r].name;
    a.appendChild(document.createTextNode(r+1));
    th.appendChild(a);
    th.className = 'onlyX';
    headertr.appendChild(th);
  }
  table.appendChild(headertr);
  for (let u = 0; u < ucObjectList.length; u++) {     // The list of use cases (in the first column)
    let tr = document.createElement('tr');
    th = document.createElement('th');
    th.className = 'noBold';
    let ucRef = document.createElement('a');
    ucRef.href = '#' + ucObjectList[u].id;
    ucRef.appendChild(document.createTextNode(ucObjectList[u].name));
    th.appendChild(ucRef);
    tr.appendChild(th);
    for (let r = 0; r < reqObjectList.length; r++) {  // The list of requirements
      let td = document.createElement('td');
      if (reqObjectList[r].uc.includes(ucObjectList[u].id)) {
        td.appendChild(document.createTextNode('X'))
        td.className = 'onlyX';
      }
      tr.appendChild(td);
    }
    table.appendChild(tr);
  }
  table.appendChild(headertr.cloneNode(true));  // Repeat header row at the bottom of the table.
  document.getElementById(targetElement).appendChild(table);
}

function createFeatureBenefitGrid(targetElement) {
  let table = document.createElement('table');
  table.id = 'featureBenefitGridTable';
  let tr = document.createElement('tr');
  let th = document.createElement('th');
  tr.appendChild(th);
  th.className = 'noBorder';
  th = document.createElement('th');
  th.colSpan = 5;
  th.appendChild(document.createTextNode('Feature'));
  th.className = 'multiColHeader';
  tr.appendChild(th);
  table.append(tr);
  tr = document.createElement('tr');
  th = document.createElement('th');
  th.appendChild(document.createTextNode('Requirement'));
  tr.appendChild(th);
  for (let i = 0; i < featureObjectList.length; i++) {
    th = document.createElement('th');
    th.appendChild(document.createTextNode(featureObjectList[i].name));
    tr.appendChild(th);
  }
  table.append(tr);

  for (let r = 0; r < reqObjectList.length; r++) {  // The list of requirements
    tr = document.createElement('tr');
    th = document.createElement('th');
    let a = document.createElement('a');
    a.href = '#' + reqObjectList[r].id;
    a.appendChild(document.createTextNode(reqObjectList[r].name));
    th.appendChild(a);
    th.className = 'noBold';
    tr.appendChild(th);
    for (let f = 0; f < featureObjectList.length; f++) {
      let td = document.createElement('td');
      if (reqObjectList[r].feature.includes(featureObjectList[f].id)) {
        td.appendChild(document.createTextNode('X'))
        td.className = 'onlyX';
      }
      tr.appendChild(td);
    }
    table.appendChild(tr);
  }
  document.getElementById(targetElement).appendChild(table);
}

function createRequirementsDefList(targetElement) {
  let dl = document.createElement('dl');
  dl.id = 'requirementsDefinitions';
  for (let r = 0; r < reqObjectList.length; r++) {
    let dt = document.createElement('dt')
    dt.id = reqObjectList[r].id;
    dt.appendChild(document.createTextNode(r+1 + '. ' + reqObjectList[r].name));
    let dd = document.createElement('dd');
    dd.appendChild(document.createTextNode(reqObjectList[r].def));
    dl.appendChild(dt);
    dl.appendChild(dd);
  }
  document.getElementById(targetElement).appendChild(dl);
}



//if (document.getElementById('requirementsCrossRef') !== 'null') {createReqSummaryDl('ucSummary')}
if (document.getElementById('requirementsCrossRefTable') !== 'null'){createReqSummaryTable('requirements')}
if (document.getElementById('requirementsDefinitions') !== 'null'){createRequirementsDefList('requirements')}
if (document.getElementById('featureBenefitGridTable') !== 'null'){createFeatureBenefitGrid('featureBenefitGrid')}

</script>

  </body>
</html>
